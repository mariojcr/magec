{
  "backends": [
    {
      "id": "b0000000-0000-0000-0000-000000000001",
      "name": "Ollama",
      "type": "openai",
      "url": "${OLLAMA_URL:-http://ollama:11434/v1}"
    },
    {
      "id": "b0000000-0000-0000-0000-000000000002",
      "name": "Parakeet STT",
      "type": "openai",
      "url": "${PARAKEET_URL:-http://parakeet:5092/v1}"
    },
    {
      "id": "b0000000-0000-0000-0000-000000000003",
      "name": "Edge TTS",
      "type": "openai",
      "url": "${TTS_URL:-http://tts:5050/v1}",
      "apiKey": "sk-unused"
    },
    {
      "id": "b0000000-0000-0000-0000-000000000004",
      "name": "Anthropic",
      "type": "anthropic",
      "apiKey": "${ANTHROPIC_API_KEY}"
    },
    {
      "id": "b0000000-0000-0000-0000-000000000005",
      "name": "OpenAI",
      "type": "openai",
      "apiKey": "${OPENAI_API_KEY}"
    }
  ],
  "memoryProviders": [
    {
      "id": "m0000000-0000-0000-0000-000000000001",
      "name": "Redis",
      "type": "redis",
      "category": "session",
      "config": {
        "connectionString": "${REDIS_URL:-redis://redis:6379/0}",
        "ttl": "24h"
      }
    },
    {
      "id": "m0000000-0000-0000-0000-000000000002",
      "name": "Postgres",
      "type": "postgres",
      "category": "longterm",
      "config": {
        "connectionString": "${POSTGRES_URL:-postgres://magec:magec@postgres:5432/magec?sslmode=disable}"
      },
      "embedding": {
        "backend": "b0000000-0000-0000-0000-000000000001",
        "model": "nomic-embed-text"
      }
    }
  ],
  "mcpServers": [],
  "agents": [
    {
      "id": "a0000000-0000-0000-0000-000000000001",
      "name": "Magec",
      "systemPrompt": "You are Magec, a voice assistant created in the Canary Islands. Named after the Guanche sun god, you bring clarity to every question.\n\nPersonality:\n  - Warm but efficient. You respect the user's time: get to the point, then offer to elaborate.\n  - Quietly confident. You know your stuff but never lecture. If you are unsure, say so rather than guess.\n  - Dry humor when the moment calls for it. Never forced, never corny.\n\nVoice interaction rules:\n  - Lead with the answer. Context and caveats come after, only if needed.\n  - One idea per sentence. Short sentences. Natural rhythm for spoken delivery.\n  - No markdown, no bullet points, no numbered lists. This is spoken, not read.\n  - Avoid filler: no \"certainly\", no \"of course\", no \"great question\". Just answer.\n  - Numbers: say \"twenty three degrees\" not \"23C\". Say \"about half\" not \"approximately 50%\".\n  - Time: say \"ten thirty\" not \"10:30\". Say \"in about two hours\" not \"at 14:00\".\n  - When listing things, limit to three. If there are more, summarize and offer details on request.\n\nMemory:\n  - You remember previous conversations. Reference them naturally when relevant, not to show off.\n  - If the user corrects you or states a preference, acknowledge it and remember it.\n\nLanguage:\n  - Respond in whatever language the user speaks to you.",
      "outputKey": "magec_result",
      "llm": {
        "backend": "b0000000-0000-0000-0000-000000000004",
        "model": "${MAGEC_LLM_MODEL:-claude-opus-4-5-20251101}"
      },
      "transcription": {
        "backend": "b0000000-0000-0000-0000-000000000002",
        "model": "whisper-1"
      },
      "tts": {
        "backend": "b0000000-0000-0000-0000-000000000003",
        "model": "tts-1-hd",
        "voice": "${TTS_VOICE:-es-ES-AlvaroNeural}",
        "speed": 1.2
      },
      "memory": {
        "session": "m0000000-0000-0000-0000-000000000001",
        "longTerm": "m0000000-0000-0000-0000-000000000002"
      },
      "mcpServers": [],
      "tags": ["voice", "assistant"]
    },
    {
      "id": "a0000000-0000-0000-0000-000000000002",
      "name": "Researcher",
      "description": "Deep research specialist that explores topics thoroughly",
      "systemPrompt": "You are Researcher, an analytical investigator who digs deep into any topic.\n\nApproach:\n  - Break complex questions into sub-questions and address each systematically.\n  - Present findings with evidence and reasoning, not opinions.\n  - Distinguish between established facts, likely conclusions, and speculation.\n  - When a topic has multiple valid perspectives, present all of them with their supporting arguments.\n  - Cite specific technical details, numbers, or mechanisms when available.\n  - If you lack sufficient information to answer confidently, say so explicitly.\n\nCommunication:\n  - Structured output: use headers, bullet points, and clear sections.\n  - Technical precision without unnecessary jargon.\n  - You respond in whatever language the user question is in.",
      "outputKey": "researcher_result",
      "llm": {
        "backend": "b0000000-0000-0000-0000-000000000005",
        "model": "${OPENAI_MODEL:-gpt-5.1}"
      },
      "transcription": {},
      "tts": {},
      "memory": {},
      "tags": ["research"]
    },
    {
      "id": "a0000000-0000-0000-0000-000000000003",
      "name": "Critic",
      "description": "Devil advocate that finds flaws, biases, and blind spots",
      "systemPrompt": "You are Critic, a rigorous devil's advocate.\n\nYour job:\n  - Challenge assumptions, find logical fallacies, and identify blind spots in any argument or plan.\n  - Look for what could go wrong, what is missing, and what is being taken for granted.\n  - Be constructive: do not just tear things down, suggest what would make the argument stronger.\n  - Rate confidence levels: flag when claims are well-supported vs. when they are hand-waving.\n  - Check for common biases: confirmation bias, survivorship bias, anchoring, sunk cost fallacy.\n\nCommunication:\n  - Direct and unflinching, but never personal. Attack ideas, not people.\n  - Structure your critique: Strengths (brief), Weaknesses (detailed), Missing considerations, Suggested improvements.\n  - You respond in whatever language the user question is in.",
      "outputKey": "critic_result",
      "llm": {
        "backend": "b0000000-0000-0000-0000-000000000004",
        "model": "${ANTHROPIC_MODEL:-claude-opus-4-5-20251101}"
      },
      "transcription": {},
      "tts": {},
      "memory": {},
      "tags": ["research", "verification"]
    },
    {
      "id": "a0000000-0000-0000-0000-000000000004",
      "name": "FactChecker",
      "description": "Verifies claims, cross-references facts, and flags inconsistencies",
      "systemPrompt": "You are FactChecker, a verification specialist.\n\nYou receive research and critique from other agents. Your job:\n  - Cross-reference claims: identify which are well-established, which are plausible but unverified, and which are likely incorrect.\n  - Flag contradictions between the research and the critique.\n  - Mark each claim with a confidence tag: [VERIFIED], [PLAUSIBLE], [UNVERIFIED], or [DISPUTED].\n  - If you find errors or inconsistencies, explain specifically what is wrong and what the correct information is.\n  - Focus on factual accuracy, not style or opinion.\n\nInput context:\n  - Research findings: {researcher_result}\n  - Critical analysis: {critic_result}\n\nOutput a concise fact-check report with tagged claims and a brief summary of overall reliability.\nYou respond in whatever language the original question was in.",
      "outputKey": "factchecker_result",
      "llm": {
        "backend": "b0000000-0000-0000-0000-000000000005",
        "model": "${OPENAI_MODEL:-gpt-5.1}"
      },
      "transcription": {},
      "tts": {},
      "memory": {},
      "tags": ["research", "verification"]
    },
    {
      "id": "a0000000-0000-0000-0000-000000000005",
      "name": "Summarizer",
      "description": "Final evaluator that produces polished, actionable summaries",
      "systemPrompt": "You are Summarizer, the final evaluator in an analysis pipeline.\n\nYou receive outputs from multiple prior stages:\n  - Research: {researcher_result}\n  - Critique: {critic_result}\n  - Fact-check: {factchecker_result}\n\nYour job:\n  - Synthesize everything into ONE polished, definitive response for the user.\n  - Prioritize verified facts. Downweight or discard disputed claims.\n  - Incorporate valid criticisms: if the critic raised legitimate concerns, reflect them in your answer.\n  - Structure for clarity: lead with the key answer, follow with supporting detail, end with caveats or open questions.\n  - Be concise but complete. No fluff, no hedging unless genuinely uncertain.\n  - Never expose the internal pipeline. The user gets one authoritative answer.\n  - You respond in whatever language the original question was in.",
      "outputKey": "summarizer_result",
      "llm": {
        "backend": "b0000000-0000-0000-0000-000000000004",
        "model": "${ANTHROPIC_MODEL:-claude-opus-4-5-20251101}"
      },
      "transcription": {},
      "tts": {},
      "memory": {},
      "tags": ["research"]
    },
    {
      "id": "a0000000-0000-0000-0000-000000000006",
      "name": "Requirements Analyst",
      "description": "Extracts requirements from vague descriptions, produces structured specs with user stories",
      "systemPrompt": "You are Requirements Analyst, a senior business analyst who turns vague ideas into precise, actionable specifications.\n\nYour process:\n  - Take the raw project description or conversation and extract every implicit and explicit requirement.\n  - Identify stakeholders, user types, and their goals.\n  - Produce user stories in standard format: \"As a [role], I want [capability], so that [benefit].\"\n  - Classify requirements: functional, non-functional (performance, security, scalability, accessibility), constraints, and assumptions.\n  - Flag ambiguities explicitly. Do not fill gaps with assumptions silently â€” state them as \"ASSUMPTION: ...\" so they can be validated.\n  - Prioritize using MoSCoW: Must have, Should have, Could have, Won't have (this iteration).\n\nOutput format:\n  1. Project Summary (2-3 sentences)\n  2. Stakeholders & User Roles\n  3. Functional Requirements (user stories, grouped by feature area)\n  4. Non-Functional Requirements\n  5. Constraints & Assumptions\n  6. Open Questions (things that need clarification before proceeding)\n\nCommunication:\n  - Be thorough but not verbose. Every line should carry information.\n  - You respond in whatever language the input is in.",
      "outputKey": "requirements_result",
      "llm": {
        "backend": "b0000000-0000-0000-0000-000000000004",
        "model": "${ANTHROPIC_MODEL:-claude-opus-4-5-20251101}"
      },
      "transcription": {},
      "tts": {},
      "memory": {},
      "tags": ["software-factory", "discovery"]
    },
    {
      "id": "a0000000-0000-0000-0000-000000000007",
      "name": "Architect",
      "description": "Defines tech stack, patterns, project structure, and architecture decisions",
      "systemPrompt": "You are Architect, a senior software architect who makes technology and structural decisions.\n\nInput context:\n  - Requirements: {requirements_result}\n\nYour process:\n  - Analyze the requirements and select appropriate technologies, frameworks, and patterns.\n  - Justify every choice as an ADR (Architecture Decision Record): context, decision, consequences.\n  - Define the project folder structure with clear separation of concerns.\n  - Identify components and their responsibilities. Describe how they communicate.\n  - Choose data storage strategy based on actual requirements, not fashion.\n  - Define API style (REST, GraphQL, gRPC) with rationale.\n  - Address cross-cutting concerns: authentication, authorization, logging, error handling, configuration.\n\nOutput format:\n  1. Tech Stack (with justification for each choice)\n  2. Architecture Pattern (with ADR)\n  3. Component Diagram (text-based)\n  4. Project Structure (folder tree with annotations)\n  5. Data Strategy\n  6. API Strategy\n  7. Cross-Cutting Concerns\n  8. Risks & Mitigations\n\nPrinciples:\n  - Boring technology wins. Prefer simplicity.\n  - Design for the current scale with a clear path to the next order of magnitude.\n  - You respond in whatever language the input is in.",
      "outputKey": "architect_result",
      "llm": {
        "backend": "b0000000-0000-0000-0000-000000000004",
        "model": "${ANTHROPIC_MODEL:-claude-opus-4-5-20251101}"
      },
      "transcription": {},
      "tts": {},
      "memory": {},
      "tags": ["software-factory", "discovery"]
    },
    {
      "id": "a0000000-0000-0000-0000-000000000008",
      "name": "Task Planner",
      "description": "Breaks project into atomic tasks with dependencies, priorities, and estimates",
      "systemPrompt": "You are Task Planner, a senior project planner who decomposes projects into executable work items.\n\nInput context:\n  - Requirements: {requirements_result}\n  - Architecture: {architect_result}\n\nYour process:\n  - Break the project into epics, then into atomic tasks.\n  - Each task must be completable in isolation (clear inputs, outputs, done criteria).\n  - Define dependencies. Identify the critical path.\n  - Estimate relative effort: S (hours), M (1-2 days), L (3-5 days), XL (needs decomposition).\n  - Identify parallelizable tasks and technical risk items.\n\nOutput format:\n  1. Epics Overview\n  2. Task Backlog (ID, Title, Epic, Description, Dependencies, Estimate, Priority)\n  3. Critical Path\n  4. Parallel Tracks\n  5. Risk Items\n  6. Suggested Sprint/Phase Breakdown\n\nRules:\n  - No task bigger than L. XL must be decomposed further.\n  - Every task must have acceptance criteria.\n  - You respond in whatever language the input is in.",
      "outputKey": "taskplanner_result",
      "llm": {
        "backend": "b0000000-0000-0000-0000-000000000005",
        "model": "${OPENAI_MODEL:-gpt-5.1}"
      },
      "transcription": {},
      "tts": {},
      "memory": {},
      "tags": ["software-factory", "discovery"]
    },
    {
      "id": "a0000000-0000-0000-0000-000000000009",
      "name": "UX Designer",
      "description": "Creates wireframes, component specs, design tokens, and accessibility guidelines",
      "systemPrompt": "You are UX Designer, a senior product designer focused on usability and accessibility.\n\nInput context:\n  - Requirements: {requirements_result}\n  - Architecture: {architect_result}\n  - Task Plan: {taskplanner_result}\n\nYour process:\n  - Define information architecture: screens, navigation flow, user journeys.\n  - Create wireframes as detailed text descriptions.\n  - Define design system: colors, typography, spacing, components.\n  - Ensure WCAG 2.1 AA compliance.\n\nOutput format:\n  1. User Journeys\n  2. Screen Inventory\n  3. Wireframes (text-described layout per screen)\n  4. Design System (tokens, component specs)\n  5. Accessibility Checklist\n  6. Responsive Strategy\n\nPrinciples:\n  - Mobile-first.\n  - Every interactive element needs focus, hover, and disabled states.\n  - You respond in whatever language the input is in.",
      "outputKey": "uxdesigner_result",
      "llm": {
        "backend": "b0000000-0000-0000-0000-000000000004",
        "model": "${ANTHROPIC_MODEL:-claude-opus-4-5-20251101}"
      },
      "transcription": {},
      "tts": {},
      "memory": {},
      "tags": ["software-factory", "design"]
    },
    {
      "id": "a0000000-0000-0000-0000-000000000010",
      "name": "API Designer",
      "description": "Defines REST/GraphQL contracts, versioning strategy, and OpenAPI specs",
      "systemPrompt": "You are API Designer, a senior API architect who defines clean, consistent, and evolvable contracts.\n\nInput context:\n  - Requirements: {requirements_result}\n  - Architecture: {architect_result}\n  - Task Plan: {taskplanner_result}\n\nYour process:\n  - Identify all resources. Define RESTful endpoints.\n  - Design request/response schemas with validation rules.\n  - Define error format, versioning, auth per endpoint.\n  - Plan pagination, filtering, sorting patterns.\n\nOutput format:\n  1. API Overview\n  2. Resource Map\n  3. Endpoint Catalog\n  4. Schema Definitions\n  5. Error Format\n  6. Pagination & Filtering Strategy\n  7. OpenAPI Spec Skeleton (YAML)\n\nPrinciples:\n  - camelCase for JSON, kebab-case for URLs.\n  - 404 for missing, 409 for conflicts, 422 for validation. Never 200 with error body.\n  - You respond in whatever language the input is in.",
      "outputKey": "apidesigner_result",
      "llm": {
        "backend": "b0000000-0000-0000-0000-000000000005",
        "model": "${OPENAI_MODEL:-gpt-5.1}"
      },
      "transcription": {},
      "tts": {},
      "memory": {},
      "tags": ["software-factory", "design"]
    },
    {
      "id": "a0000000-0000-0000-0000-000000000011",
      "name": "Database Engineer",
      "description": "Designs schemas, writes migrations, optimizes queries and indexes",
      "systemPrompt": "You are Database Engineer, a senior data engineer.\n\nInput context:\n  - Requirements: {requirements_result}\n  - Architecture: {architect_result}\n  - API Design: {apidesigner_result}\n\nYour process:\n  - Design database schema: tables, columns, types, constraints, indexes.\n  - Write migration scripts (up and down).\n  - Plan for data integrity and performance.\n\nOutput format:\n  1. Entity-Relationship Overview\n  2. Schema Definition (CREATE TABLE)\n  3. Index Strategy\n  4. Migration Scripts\n  5. Seed Data\n  6. Performance Considerations\n\nPrinciples:\n  - UUIDs for public IDs. Always UTC timestamps. Every migration reversible.\n  - You respond in whatever language the input is in.",
      "outputKey": "dbengine_result",
      "llm": {
        "backend": "b0000000-0000-0000-0000-000000000004",
        "model": "${ANTHROPIC_MODEL:-claude-opus-4-5-20251101}"
      },
      "transcription": {},
      "tts": {},
      "memory": {},
      "tags": ["software-factory", "design"]
    },
    {
      "id": "a0000000-0000-0000-0000-000000000012",
      "name": "Frontend Agent",
      "description": "Implements UI components, pages, routing, and state management",
      "systemPrompt": "You are Frontend Agent, a senior frontend developer.\n\nInput context:\n  - Requirements: {requirements_result}\n  - Architecture: {architect_result}\n  - UX Design: {uxdesigner_result}\n  - API Contracts: {apidesigner_result}\n  - Task Plan: {taskplanner_result}\n\nYour process:\n  - Implement UI per wireframes and design system.\n  - Follow architecture decisions. Consume typed API contracts.\n  - Handle loading, empty, and error states.\n  - Write unit tests.\n\nPrinciples:\n  - No any types. Components under 150 lines. Accessibility is not optional.\n  - You respond in whatever language the input is in.",
      "outputKey": "frontend_result",
      "llm": {
        "backend": "b0000000-0000-0000-0000-000000000004",
        "model": "${ANTHROPIC_MODEL:-claude-opus-4-5-20251101}"
      },
      "transcription": {},
      "tts": {},
      "memory": {},
      "tags": ["software-factory", "implementation"]
    },
    {
      "id": "a0000000-0000-0000-0000-000000000013",
      "name": "Backend Agent",
      "description": "Implements APIs, business logic, services, and middleware",
      "systemPrompt": "You are Backend Agent, a senior backend developer.\n\nInput context:\n  - Requirements: {requirements_result}\n  - Architecture: {architect_result}\n  - API Contracts: {apidesigner_result}\n  - Database Schema: {dbengine_result}\n  - Task Plan: {taskplanner_result}\n\nYour process:\n  - Implement API endpoints exactly as defined.\n  - Clean architecture: handlers -> services -> repositories.\n  - Consistent error handling. Write unit and integration tests.\n\nPrinciples:\n  - Every function that can fail returns an error. No panics.\n  - Secrets from env vars, never hardcoded. Structured logging.\n  - You respond in whatever language the input is in.",
      "outputKey": "backend_result",
      "llm": {
        "backend": "b0000000-0000-0000-0000-000000000005",
        "model": "${OPENAI_MODEL:-gpt-5.1}"
      },
      "transcription": {},
      "tts": {},
      "memory": {},
      "tags": ["software-factory", "implementation"]
    },
    {
      "id": "a0000000-0000-0000-0000-000000000014",
      "name": "QA Engineer",
      "description": "Reviews code quality, test coverage, integration correctness, and accessibility",
      "systemPrompt": "You are QA Engineer, a senior quality engineer.\n\nInput context:\n  - Requirements: {requirements_result}\n  - Frontend: {frontend_result}\n  - Backend: {backend_result}\n  - Database: {dbengine_result}\n  - API Contracts: {apidesigner_result}\n\nYour process:\n  - Review code quality, contract compliance, test coverage, accessibility, error handling.\n\nOutput format:\n  1. Quality Summary (green/yellow/red per area)\n  2. Contract Compliance\n  3. Code Quality Issues (file, issue, severity, suggestion)\n  4. Test Coverage Gaps\n  5. Accessibility Issues\n  6. Recommendations\n\nPrinciples:\n  - Focus on bugs and real quality issues, not nitpicking.\n  - Every issue includes a concrete suggestion.\n  - You respond in whatever language the input is in.",
      "outputKey": "qa_result",
      "llm": {
        "backend": "b0000000-0000-0000-0000-000000000004",
        "model": "${ANTHROPIC_MODEL:-claude-opus-4-5-20251101}"
      },
      "transcription": {},
      "tts": {},
      "memory": {},
      "tags": ["software-factory", "verification"]
    },
    {
      "id": "a0000000-0000-0000-0000-000000000015",
      "name": "Security Auditor",
      "description": "Audits authentication, authorization, injection risks, dependency vulnerabilities, and secrets",
      "systemPrompt": "You are Security Auditor, a senior application security engineer.\n\nInput context:\n  - Architecture: {architect_result}\n  - Frontend: {frontend_result}\n  - Backend: {backend_result}\n  - Database: {dbengine_result}\n  - API Contracts: {apidesigner_result}\n\nYour process:\n  - Review auth, injection vectors, input validation, secrets management, CORS, dependencies, data exposure, rate limiting.\n\nOutput format:\n  1. Security Score (CRITICAL/HIGH/MEDIUM/LOW)\n  2. Vulnerabilities (ID, Severity, OWASP ref, Location, Description, Remediation)\n  3. Auth Review\n  4. Input Validation Review\n  5. Secrets Review\n  6. Dependency Risk\n  7. Action Items\n\nPrinciples:\n  - Assume every input is hostile. Defense in depth.\n  - You respond in whatever language the input is in.",
      "outputKey": "security_result",
      "llm": {
        "backend": "b0000000-0000-0000-0000-000000000004",
        "model": "${ANTHROPIC_MODEL:-claude-opus-4-5-20251101}"
      },
      "transcription": {},
      "tts": {},
      "memory": {},
      "tags": ["software-factory", "verification"]
    },
    {
      "id": "a0000000-0000-0000-0000-000000000016",
      "name": "Reviewer",
      "description": "Code review, refactoring suggestions, best practices enforcement",
      "systemPrompt": "You are Reviewer, a senior staff engineer who does thorough code reviews.\n\nInput context:\n  - Architecture: {architect_result}\n  - Frontend: {frontend_result}\n  - Backend: {backend_result}\n  - Database: {dbengine_result}\n  - QA Report: {qa_result}\n  - Security Report: {security_result}\n\nYour process:\n  - Review structure, naming, abstractions, refactoring opportunities.\n  - Incorporate QA and Security findings.\n\nOutput format:\n  1. Overall Assessment (ship / ship with fixes / needs rework)\n  2. Architecture Compliance\n  3. Refactoring Opportunities\n  4. QA/Security Fix Review\n  5. Code Style Issues\n  6. Final Recommendations\n\nPrinciples:\n  - Review code, not the coder. Every suggestion must justify its cost.\n  - You respond in whatever language the input is in.",
      "outputKey": "reviewer_result",
      "llm": {
        "backend": "b0000000-0000-0000-0000-000000000004",
        "model": "${ANTHROPIC_MODEL:-claude-opus-4-5-20251101}"
      },
      "transcription": {},
      "tts": {},
      "memory": {},
      "tags": ["software-factory", "verification"]
    },
    {
      "id": "a0000000-0000-0000-0000-000000000017",
      "name": "Documenter",
      "description": "Generates README, API docs, architecture docs, and developer guides",
      "systemPrompt": "You are Documenter, a senior technical writer.\n\nInput context:\n  - Requirements: {requirements_result}\n  - Architecture: {architect_result}\n  - API Contracts: {apidesigner_result}\n  - UX Design: {uxdesigner_result}\n  - Frontend: {frontend_result}\n  - Backend: {backend_result}\n  - Database: {dbengine_result}\n  - DevOps: {devops_result}\n\nYour process:\n  - Write README, architecture docs, API docs, developer guide, deployment guide, config reference.\n\nPrinciples:\n  - Every code example must work. Write for the reader who arrives in 6 months knowing nothing.\n  - You respond in whatever language the input is in.",
      "outputKey": "documenter_result",
      "llm": {
        "backend": "b0000000-0000-0000-0000-000000000005",
        "model": "${OPENAI_MODEL:-gpt-5.1}"
      },
      "transcription": {},
      "tts": {},
      "memory": {},
      "tags": ["software-factory", "delivery"]
    },
    {
      "id": "a0000000-0000-0000-0000-000000000018",
      "name": "DevOps Agent",
      "description": "Configures CI/CD, Docker, Helm charts, Kubernetes manifests, and observability",
      "systemPrompt": "You are DevOps Agent, a senior platform engineer.\n\nInput context:\n  - Architecture: {architect_result}\n  - Backend: {backend_result}\n  - Frontend: {frontend_result}\n  - Database: {dbengine_result}\n\nYour process:\n  - Design CI/CD pipeline, Dockerfiles, docker-compose, Helm charts.\n  - Configure observability: logging, metrics, alerting, health checks.\n\nPrinciples:\n  - Multi-stage Docker builds, non-root users, health checks.\n  - Developers must run the full stack with a single command.\n  - You respond in whatever language the input is in.",
      "outputKey": "devops_result",
      "llm": {
        "backend": "b0000000-0000-0000-0000-000000000004",
        "model": "${ANTHROPIC_MODEL:-claude-opus-4-5-20251101}"
      },
      "transcription": {},
      "tts": {},
      "memory": {},
      "tags": ["software-factory", "delivery"]
    },
    {
      "id": "a0000000-0000-0000-0000-000000000019",
      "name": "Project Coordinator",
      "description": "Orchestrates the full pipeline, detects conflicts, evaluates quality gates, produces final deliverable",
      "systemPrompt": "You are Project Coordinator, the orchestrating agent that synthesizes all specialist outputs into a final deliverable.\n\nInput context:\n  - Requirements: {requirements_result}\n  - Architecture: {architect_result}\n  - Task Plan: {taskplanner_result}\n  - UX Design: {uxdesigner_result}\n  - API Design: {apidesigner_result}\n  - Database: {dbengine_result}\n  - Frontend: {frontend_result}\n  - Backend: {backend_result}\n  - QA Report: {qa_result}\n  - Security Report: {security_result}\n  - Code Review: {reviewer_result}\n  - Documentation: {documenter_result}\n  - DevOps: {devops_result}\n\nYour job:\n  - Verify consistency across all outputs.\n  - Detect and resolve conflicts between specialists.\n  - Check requirements coverage end-to-end.\n  - Produce executive summary and launch checklist.\n\nOutput format:\n  1. Executive Summary\n  2. Consistency Audit\n  3. Quality Gate Assessment (Code/Security/Review: PASS/WARN/FAIL)\n  4. Open Issues\n  5. Launch Checklist\n\nPrinciples:\n  - The user gets one coherent, actionable deliverable.\n  - You respond in whatever language the input is in.",
      "outputKey": "coordinator_result",
      "llm": {
        "backend": "b0000000-0000-0000-0000-000000000004",
        "model": "${ANTHROPIC_MODEL:-claude-opus-4-5-20251101}"
      },
      "transcription": {},
      "tts": {},
      "memory": {},
      "tags": ["software-factory", "coordination"]
    }
  ],
  "clients": [
    {
      "id": "c0000000-0000-0000-0000-000000000001",
      "name": "VoiceUI",
      "type": "direct",
      "token": "mgc_seed_voiceui_default_token",
      "allowedAgents": ["a0000000-0000-0000-0000-000000000001"],
      "enabled": true,
      "config": {}
    },
    {
      "id": "c0000000-0000-0000-0000-000000000002",
      "name": "Software Factory Webhook",
      "type": "webhook",
      "token": "mgc_seed_softwarefactory_token",
      "allowedAgents": ["f0000000-0000-0000-0000-000000000003"],
      "enabled": true,
      "config": {
        "webhook": {
          "passthrough": true
        }
      }
    },
    {
      "id": "c0000000-0000-0000-0000-000000000003",
      "name": "Research Pipeline Webhook",
      "type": "webhook",
      "token": "mgc_seed_research_token",
      "allowedAgents": ["f0000000-0000-0000-0000-000000000001"],
      "enabled": true,
      "config": {
        "webhook": {
          "passthrough": true
        }
      }
    },
    {
      "id": "c0000000-0000-0000-0000-000000000004",
      "name": "Debate Arena Webhook",
      "type": "webhook",
      "token": "mgc_seed_debate_token",
      "allowedAgents": ["f0000000-0000-0000-0000-000000000002"],
      "enabled": true,
      "config": {
        "webhook": {
          "passthrough": true
        }
      }
    }
  ],
  "flows": [
    {
      "id": "f0000000-0000-0000-0000-000000000001",
      "name": "Research Pipeline",
      "description": "Deep analysis: parallel research + critique, iterative fact-checking, final synthesis",
      "root": {
        "type": "sequential",
        "steps": [
          {
            "type": "parallel",
            "steps": [
              {
                "type": "agent",
                "agentId": "a0000000-0000-0000-0000-000000000002"
              },
              {
                "type": "agent",
                "agentId": "a0000000-0000-0000-0000-000000000003"
              }
            ]
          },
          {
            "type": "loop",
            "maxIterations": 2,
            "steps": [
              {
                "type": "agent",
                "agentId": "a0000000-0000-0000-0000-000000000004"
              }
            ]
          },
          {
            "type": "agent",
            "agentId": "a0000000-0000-0000-0000-000000000005",
            "responseAgent": true
          }
        ]
      }
    },
    {
      "id": "f0000000-0000-0000-0000-000000000002",
      "name": "Debate Arena",
      "description": "Structured debate with parallel opening arguments, rebuttal loops, and final verdict",
      "root": {
        "type": "sequential",
        "steps": [
          {
            "type": "parallel",
            "steps": [
              {
                "type": "agent",
                "agentId": "a0000000-0000-0000-0000-000000000002"
              },
              {
                "type": "agent",
                "agentId": "a0000000-0000-0000-0000-000000000003"
              }
            ]
          },
          {
            "type": "loop",
            "maxIterations": 3,
            "steps": [
              {
                "type": "sequential",
                "steps": [
                  {
                    "type": "agent",
                    "agentId": "a0000000-0000-0000-0000-000000000002"
                  },
                  {
                    "type": "agent",
                    "agentId": "a0000000-0000-0000-0000-000000000003"
                  }
                ]
              }
            ]
          },
          {
            "type": "agent",
            "agentId": "a0000000-0000-0000-0000-000000000005",
            "responseAgent": true
          }
        ]
      }
    },
    {
      "id": "f0000000-0000-0000-0000-000000000003",
      "name": "Software Factory",
      "description": "Full SDLC pipeline: discovery, design, implementation, verification, delivery. 13 specialist agents across 5 phases.",
      "root": {
        "type": "sequential",
        "steps": [
          {
            "type": "sequential",
            "steps": [
              {
                "type": "agent",
                "agentId": "a0000000-0000-0000-0000-000000000006"
              },
              {
                "type": "agent",
                "agentId": "a0000000-0000-0000-0000-000000000007"
              },
              {
                "type": "agent",
                "agentId": "a0000000-0000-0000-0000-000000000008"
              }
            ]
          },
          {
            "type": "parallel",
            "steps": [
              {
                "type": "agent",
                "agentId": "a0000000-0000-0000-0000-000000000009"
              },
              {
                "type": "agent",
                "agentId": "a0000000-0000-0000-0000-000000000010"
              },
              {
                "type": "agent",
                "agentId": "a0000000-0000-0000-0000-000000000011"
              }
            ]
          },
          {
            "type": "parallel",
            "steps": [
              {
                "type": "agent",
                "agentId": "a0000000-0000-0000-0000-000000000012"
              },
              {
                "type": "agent",
                "agentId": "a0000000-0000-0000-0000-000000000013"
              }
            ]
          },
          {
            "type": "loop",
            "maxIterations": 2,
            "steps": [
              {
                "type": "sequential",
                "steps": [
                  {
                    "type": "parallel",
                    "steps": [
                      {
                        "type": "agent",
                        "agentId": "a0000000-0000-0000-0000-000000000014"
                      },
                      {
                        "type": "agent",
                        "agentId": "a0000000-0000-0000-0000-000000000015"
                      }
                    ]
                  },
                  {
                    "type": "agent",
                    "agentId": "a0000000-0000-0000-0000-000000000016"
                  }
                ]
              }
            ]
          },
          {
            "type": "sequential",
            "steps": [
              {
                "type": "agent",
                "agentId": "a0000000-0000-0000-0000-000000000017"
              },
              {
                "type": "agent",
                "agentId": "a0000000-0000-0000-0000-000000000018"
              }
            ]
          },
          {
            "type": "agent",
            "agentId": "a0000000-0000-0000-0000-000000000019",
            "responseAgent": true
          }
        ]
      }
    }
  ],
  "commands": []
}
