<!DOCTYPE html>
<html lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Docker Compose — Magec — Self-hosted Multi-Agent AI Platform</title>
  <meta name="description" content="Define multiple AI agents, chain them into workflows, connect tools. Voice, Telegram, webhooks, cron. Your server, your rules.">
  <meta name="theme-color" content="#1c1917">
  <link rel="icon" type="image/svg+xml" href="/img/logo.svg">
  <link rel="stylesheet" href="/css/style.css">
  <meta property="og:title" content="Docker Compose">
  <meta property="og:description" content="Define multiple AI agents, chain them into workflows, connect tools. Voice, Telegram, webhooks, cron. Your server, your rules.">
  <meta property="og:type" content="website">
</head>
<body>
  <nav class="nav scrolled">
  <div class="nav__inner">
    <a href="/" class="nav__logo">
      <svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
        <defs><linearGradient id="ng" x1="0%" y1="100%" x2="100%" y2="0%"><stop offset="0%" stop-color="#f59e0b"/><stop offset="100%" stop-color="#f87171"/></linearGradient></defs>
        <circle cx="32" cy="32" r="26" fill="url(#ng)"/>
        <circle cx="20" cy="24" r="2" fill="white" opacity=".9"/><circle cx="26" cy="18" r="1.5" fill="white" opacity=".7"/>
        <circle cx="40" cy="22" r="1.8" fill="white" opacity=".8"/><circle cx="46" cy="30" r="1.2" fill="white" opacity=".6"/>
        <circle cx="38" cy="38" r="2" fill="white" opacity=".75"/><circle cx="24" cy="40" r="1.4" fill="white" opacity=".65"/>
      </svg>
      Magec
    </a>
    <button class="nav__toggle" aria-label="Toggle menu">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M4 6h16M4 12h16M4 18h16"/></svg>
    </button>
    <ul class="nav__links">
      
      <li><a href="/#how-it-works" class="nav__link">How it works</a></li>
      
      <li><a href="/#what" class="nav__link">Platform</a></li>
      
      <li><a href="/#use-cases" class="nav__link">Use cases</a></li>
      
      <li><a href="/#screenshots" class="nav__link">Screenshots</a></li>
      
      <li><a href="/docs/" class="nav__link">Docs</a></li>
      
      <li>
        <a href="https://github.com/achetronic/magec" class="nav__cta" target="_blank" rel="noopener">
          <svg viewBox="0 0 16 16" fill="currentColor"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/></svg>
          GitHub
        </a>
      </li>
    </ul>
  </div>
</nav>

  <main>
    
<div class="container">
  <div class="docs-layout">
    <aside class="docs-sidebar">
      
      
      <div class="docs-sidebar__group">
        <div class="docs-sidebar__label">Getting Started</div>
        
        <a href="/docs/install-docker/" class="docs-sidebar__link">Docker Quick Start</a>
        
        <a href="/docs/install-compose-local/" class="docs-sidebar__link docs-sidebar__link--active">Docker Compose</a>
        
        <a href="/docs/install-binary/" class="docs-sidebar__link">Binary Install</a>
        
        <a href="/docs/configuration/" class="docs-sidebar__link">Configuration</a>
        
      </div>
      
      
      
      <div class="docs-sidebar__group">
        <div class="docs-sidebar__label">Security</div>
        
        <a href="/docs/admin-password/" class="docs-sidebar__link">Admin Password</a>
        
      </div>
      
      
      
      <div class="docs-sidebar__group">
        <div class="docs-sidebar__label">Core Concepts</div>
        
        <a href="/docs/agents/" class="docs-sidebar__link">Agents</a>
        
        <a href="/docs/flows/" class="docs-sidebar__link">Agentic Flows</a>
        
        <a href="/docs/backends/" class="docs-sidebar__link">AI Backends</a>
        
        <a href="/docs/memory/" class="docs-sidebar__link">Memory</a>
        
        <a href="/docs/mcp/" class="docs-sidebar__link">MCP Tools</a>
        
        <a href="/docs/skills/" class="docs-sidebar__link">Skills</a>
        
        <a href="/docs/a2a/" class="docs-sidebar__link">A2A Protocol</a>
        
        <a href="/docs/secrets/" class="docs-sidebar__link">Secrets</a>
        
        <a href="/docs/commands/" class="docs-sidebar__link">Commands</a>
        
      </div>
      
      
      
      <div class="docs-sidebar__group">
        <div class="docs-sidebar__label">Clients</div>
        
        <a href="/docs/clients/" class="docs-sidebar__link">Overview</a>
        
        <a href="/docs/voice-ui/" class="docs-sidebar__link">Voice UI</a>
        
        <a href="/docs/telegram/" class="docs-sidebar__link">Telegram</a>
        
        <a href="/docs/slack/" class="docs-sidebar__link">Slack</a>
        
        <a href="/docs/webhooks/" class="docs-sidebar__link">Webhooks</a>
        
        <a href="/docs/cron/" class="docs-sidebar__link">Cron</a>
        
      </div>
      
      
      
      <div class="docs-sidebar__group">
        <div class="docs-sidebar__label">Reference</div>
        
        <a href="/docs/api/" class="docs-sidebar__link">API Reference</a>
        
        <a href="/docs/voice-system/" class="docs-sidebar__link">Voice System</a>
        
        <a href="/docs/secrets-advanced/" class="docs-sidebar__link">Advanced Secrets</a>
        
        <a href="/docs/skills-vs-agents/" class="docs-sidebar__link">Skills vs. Agents</a>
        
        <a href="/docs/screenshots/" class="docs-sidebar__link">Screenshots</a>
        
      </div>
      
      
    </aside>
    <div class="docs-content">
      <button class="docs-sidebar-toggle btn btn--ghost">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18"><path d="M4 6h16M4 12h16M4 18h16"/></svg>
        Navigation
      </button>
      <h1>Docker Compose</h1>
      <p>The fully local deployment. Everything runs on your machine: LLM, speech-to-text, text-to-speech, embeddings, and memory. No API keys, no cloud accounts, no data leaving your network.</p>
<p><strong>Requirements:</strong></p>
<ul>
<li>Docker and Docker Compose</li>
<li>At least 8 GB of RAM (for Ollama + the LLM model)</li>
<li>~6 GB disk space for AI models (downloaded on first start)</li>
</ul>
<h2 id="one-line-install">One-line install</h2>
<p>The interactive installer walks you through the full setup — LLM provider, voice, memory, NVIDIA GPU support — and generates a ready-to-run Docker Compose deployment:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -fsSL https://magec.dev/install <span class="p">|</span> bash
</span></span></code></pre></div>


<div class="docs-callout docs-callout--info">
  The first start downloads approximately 5 GB of AI models (Qwen 3 8B for LLM, nomic-embed-text for embeddings). This only happens once. Track progress with <code>docker compose logs -f ollama-setup</code>.
</div>

<h2 id="manual-setup">Manual setup</h2>
<p>If you prefer to set things up yourself, or want to customize the configuration before starting:</p>
<h3 id="1-download-the-files">1. Download the files</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mkdir magec <span class="o">&amp;&amp;</span> <span class="nb">cd</span> magec
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">curl -fsSL https://raw.githubusercontent.com/achetronic/magec/master/docker/compose/docker-compose.yaml <span class="se">\
</span></span></span><span class="line"><span class="cl">  -o docker-compose.yaml
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">curl -fsSL https://raw.githubusercontent.com/achetronic/magec/master/docker/compose/config.yaml <span class="se">\
</span></span></span><span class="line"><span class="cl">  -o config.yaml
</span></span></code></pre></div><h3 id="2-optional-enable-gpu">2. (Optional) Enable GPU</h3>
<p>Edit <code>docker-compose.yaml</code> and uncomment the <code>deploy</code> section under the <code>ollama</code> service:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">services</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">ollama</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">deploy</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">resources</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">reservations</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">devices</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span>- <span class="nt">driver</span><span class="p">:</span><span class="w"> </span><span class="l">nvidia</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="nt">count</span><span class="p">:</span><span class="w"> </span><span class="l">all</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="nt">capabilities</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="l">gpu]</span><span class="w">
</span></span></span></code></pre></div><h3 id="3-start">3. Start</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker compose up -d
</span></span></code></pre></div><h2 id="what-gets-deployed">What gets deployed</h2>
<table>
  <thead>
      <tr>
          <th>Container</th>
          <th>Purpose</th>
          <th>Port</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>magec</strong></td>
          <td>Magec server — Admin UI, Voice UI, API, agent runtime</td>
          <td>8080, 8081</td>
      </tr>
      <tr>
          <td><strong>redis</strong></td>
          <td>Session memory storage</td>
          <td>6379</td>
      </tr>
      <tr>
          <td><strong>postgres</strong></td>
          <td>Long-term memory (pgvector)</td>
          <td>5432</td>
      </tr>
      <tr>
          <td><strong>ollama</strong></td>
          <td>LLM and embeddings (Qwen 3 8B, nomic-embed-text)</td>
          <td>11434</td>
      </tr>
      <tr>
          <td><strong>ollama-setup</strong></td>
          <td>Downloads Ollama models on first start, then exits</td>
          <td>—</td>
      </tr>
      <tr>
          <td><strong>parakeet</strong></td>
          <td>Speech-to-text (NVIDIA Parakeet)</td>
          <td>5092</td>
      </tr>
      <tr>
          <td><strong>tts</strong></td>
          <td>Text-to-speech (OpenAI Edge TTS)</td>
          <td>5050</td>
      </tr>
  </tbody>
</table>
<h2 id="set-up-your-first-agent">Set up your first agent</h2>
<p>Once everything is running, open the <strong>Admin UI</strong> at <code>http://localhost:8081</code>.</p>
<h3 id="create-backends">Create backends</h3>
<p>You need three backends — one for the LLM/embeddings, one for STT, one for TTS:</p>
<p><strong>Ollama (LLM + Embeddings)</strong> — Backends → New:</p>
<table>
  <thead>
      <tr>
          <th>Field</th>
          <th>Value</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Name</td>
          <td><code>Ollama</code></td>
      </tr>
      <tr>
          <td>Type</td>
          <td><code>openai</code></td>
      </tr>
      <tr>
          <td>URL</td>
          <td><code>http://ollama:11434/v1</code></td>
      </tr>
      <tr>
          <td>API Key</td>
          <td><em>(leave empty)</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Parakeet (STT)</strong> — Backends → New:</p>
<table>
  <thead>
      <tr>
          <th>Field</th>
          <th>Value</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Name</td>
          <td><code>Parakeet</code></td>
      </tr>
      <tr>
          <td>Type</td>
          <td><code>openai</code></td>
      </tr>
      <tr>
          <td>URL</td>
          <td><code>http://parakeet:5092</code></td>
      </tr>
      <tr>
          <td>API Key</td>
          <td><em>(leave empty)</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Edge TTS (TTS)</strong> — Backends → New:</p>
<table>
  <thead>
      <tr>
          <th>Field</th>
          <th>Value</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Name</td>
          <td><code>Edge TTS</code></td>
      </tr>
      <tr>
          <td>Type</td>
          <td><code>openai</code></td>
      </tr>
      <tr>
          <td>URL</td>
          <td><code>http://tts:5050</code></td>
      </tr>
      <tr>
          <td>API Key</td>
          <td><em>(leave empty)</em></td>
      </tr>
  </tbody>
</table>
<h3 id="create-memory-providers">Create memory providers</h3>
<p><strong>Session memory</strong> — Memory → New Session Provider:</p>
<table>
  <thead>
      <tr>
          <th>Field</th>
          <th>Value</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Type</td>
          <td><code>redis</code></td>
      </tr>
      <tr>
          <td>URL</td>
          <td><code>redis://redis:6379</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Long-term memory</strong> — Memory → New Long-term Provider:</p>
<table>
  <thead>
      <tr>
          <th>Field</th>
          <th>Value</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Type</td>
          <td><code>pgvector</code></td>
      </tr>
      <tr>
          <td>URL</td>
          <td><code>postgres://magec:magec@postgres:5432/magec?sslmode=disable</code></td>
      </tr>
      <tr>
          <td>Embedding Backend</td>
          <td><code>Ollama</code></td>
      </tr>
      <tr>
          <td>Embedding Model</td>
          <td><code>nomic-embed-text</code></td>
      </tr>
  </tbody>
</table>
<h3 id="create-an-agent">Create an agent</h3>
<p>Agents → New:</p>
<table>
  <thead>
      <tr>
          <th>Field</th>
          <th>Value</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Name</td>
          <td><code>Assistant</code></td>
      </tr>
      <tr>
          <td>System Prompt</td>
          <td>Your agent&rsquo;s personality and instructions</td>
      </tr>
      <tr>
          <td>LLM Backend</td>
          <td><code>Ollama</code></td>
      </tr>
      <tr>
          <td>LLM Model</td>
          <td><code>qwen3:8b</code></td>
      </tr>
  </tbody>
</table>
<p>Expand the <strong>Voice</strong> section:</p>
<table>
  <thead>
      <tr>
          <th>Field</th>
          <th>Value</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Transcription Backend</td>
          <td><code>Parakeet</code></td>
      </tr>
      <tr>
          <td>Transcription Model</td>
          <td><code>nvidia/parakeet-ctc-0.6b-rnnt</code></td>
      </tr>
      <tr>
          <td>TTS Backend</td>
          <td><code>Edge TTS</code></td>
      </tr>
      <tr>
          <td>TTS Model</td>
          <td><code>tts-1</code></td>
      </tr>
      <tr>
          <td>TTS Voice</td>
          <td><code>es-ES-AlvaroNeural</code> (or any voice from the Edge TTS catalog)</td>
      </tr>
  </tbody>
</table>
<h3 id="create-a-client">Create a client</h3>
<p>Clients → New:</p>
<table>
  <thead>
      <tr>
          <th>Field</th>
          <th>Value</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Name</td>
          <td><code>My Voice UI</code></td>
      </tr>
      <tr>
          <td>Type</td>
          <td><code>Voice UI</code></td>
      </tr>
      <tr>
          <td>Agent</td>
          <td><code>Assistant</code></td>
      </tr>
  </tbody>
</table>
<p>Copy the <strong>pairing token</strong>, open <code>http://localhost:8080</code>, paste it, and start talking.</p>
<h2 id="using-cloud-providers-instead">Using cloud providers instead</h2>
<p>The Docker Compose includes all the local AI services, but you can use cloud providers by simply creating different backends in the Admin UI. The local services will still be running but unused — or you can stop them.</p>
<h3 id="openai-handles-everything">OpenAI (handles everything)</h3>
<p>Create a single backend:</p>
<table>
  <thead>
      <tr>
          <th>Field</th>
          <th>Value</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Name</td>
          <td><code>OpenAI</code></td>
      </tr>
      <tr>
          <td>Type</td>
          <td><code>openai</code></td>
      </tr>
      <tr>
          <td>API Key</td>
          <td><code>sk-...</code></td>
      </tr>
      <tr>
          <td>URL</td>
          <td><em>(leave empty)</em></td>
      </tr>
  </tbody>
</table>
<p>Use it for the agent&rsquo;s LLM (<code>gpt-4.1-mini</code>), transcription (<code>whisper-1</code>), and TTS (<code>tts-1</code>). For embeddings in long-term memory, use <code>text-embedding-3-small</code>.</p>
<p>Then stop the local services you don&rsquo;t need:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker compose stop ollama ollama-setup parakeet tts
</span></span></code></pre></div><h3 id="anthropic--gemini-llm-only">Anthropic / Gemini (LLM only)</h3>
<p>These providers only offer LLM — STT, TTS, and embeddings stay local. Create the cloud backend for the LLM and keep using Parakeet, Edge TTS, and Ollama (for embeddings) as configured above.</p>
<table>
  <thead>
      <tr>
          <th>Provider</th>
          <th>Backend type</th>
          <th>Model example</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Anthropic</td>
          <td><code>anthropic</code></td>
          <td><code>claude-sonnet-4-20250514</code></td>
      </tr>
      <tr>
          <td>Gemini</td>
          <td><code>gemini</code></td>
          <td><code>gemini-2.0-flash</code></td>
      </tr>
  </tbody>
</table>
<h2 id="managing-the-deployment">Managing the deployment</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> magec                               <span class="c1"># your installation directory</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">docker compose logs -f                 <span class="c1"># follow all logs</span>
</span></span><span class="line"><span class="cl">docker compose logs -f magec           <span class="c1"># Magec server only</span>
</span></span><span class="line"><span class="cl">docker compose logs -f ollama-setup    <span class="c1"># model download progress</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">docker compose down                    <span class="c1"># stop everything</span>
</span></span><span class="line"><span class="cl">docker compose up -d                   <span class="c1"># start again</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">docker compose pull                    <span class="c1"># pull latest images</span>
</span></span><span class="line"><span class="cl">docker compose up -d                   <span class="c1"># restart with new versions</span>
</span></span></code></pre></div><h2 id="data-persistence">Data persistence</h2>
<p>All data is stored in Docker volumes:</p>
<table>
  <thead>
      <tr>
          <th>Volume</th>
          <th>Contains</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>magec_data</code></td>
          <td><code>store.json</code> (agents, backends, clients), <code>conversations.json</code></td>
      </tr>
      <tr>
          <td><code>redis_data</code></td>
          <td>Session memory</td>
      </tr>
      <tr>
          <td><code>postgres_data</code></td>
          <td>Long-term memory (pgvector)</td>
      </tr>
      <tr>
          <td><code>ollama_data</code></td>
          <td>Downloaded AI models</td>
      </tr>
  </tbody>
</table>
<p>Your data survives <code>docker compose down/up</code>, image updates, and container recreation. To back up your Magec configuration, copy <code>data/store.json</code> from the <code>magec_data</code> volume.</p>
<p>To start completely fresh:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker compose down -v    <span class="c1"># -v removes all volumes</span>
</span></span><span class="line"><span class="cl">docker compose up -d      <span class="c1"># fresh start</span>
</span></span></code></pre></div><h2 id="customizing-your-deployment">Customizing your deployment</h2>
<h3 id="adding-mcp-servers-as-containers">Adding MCP servers as containers</h3>
<p>You can extend the Docker Compose file to add MCP servers alongside Magec:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">services</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">hass-mcp</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">ghcr.io/achetronic/hass-mcp:latest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">environment</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">HASS_URL=http://homeassistant:8123</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">HASS_TOKEN=${HASS_TOKEN}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">ports</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="s2">&#34;8888:8080&#34;</span><span class="w">
</span></span></span></code></pre></div><p>Then add the MCP server in the Admin UI pointing at <code>http://hass-mcp:8080/sse</code>.</p>
<h3 id="changing-ports">Changing ports</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">services</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">magec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">ports</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="s2">&#34;3000:8080&#34;</span><span class="w">   </span><span class="c"># Voice UI + User API on port 3000</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="s2">&#34;3001:8081&#34;</span><span class="w">   </span><span class="c"># Admin UI + Admin API on port 3001</span><span class="w">
</span></span></span></code></pre></div><h3 id="accessing-host-services">Accessing host services</h3>
<p>If your LLM or other services run on the Docker host (not in containers), use <code>host.docker.internal</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">services</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">magec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">extra_hosts</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="s2">&#34;host.docker.internal:host-gateway&#34;</span><span class="w">
</span></span></span></code></pre></div>


<div class="docs-callout docs-callout--info">
  On macOS and Windows, <code>host.docker.internal</code> works automatically. On Linux, you need the <code>extra_hosts</code> mapping above.
</div>

<h2 id="next-steps">Next steps</h2>
<ul>
<li><strong><a href="/docs/configuration/">Configuration</a></strong> — understand <code>config.yaml</code> vs. Admin UI resources</li>
<li><strong><a href="/docs/agents/">Agents</a></strong> — customize agent behavior, prompts, and voice</li>
<li><strong><a href="/docs/mcp/">MCP Tools</a></strong> — connect external tools (Home Assistant, GitHub, databases, etc.)</li>
<li><strong><a href="/docs/flows/">Flows</a></strong> — chain agents into multi-step workflows</li>
</ul>

    </div>
  </div>
</div>

  </main>
  <div id="lightbox" class="lightbox">
  <button class="lightbox__close" aria-label="Close">✕</button>
  <img id="lightbox-img" src="" alt="">
</div>

  <footer class="footer">
  <div class="container">
    <div class="footer__inner">
      <div class="footer__brand">
        <svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" width="20" height="20">
          <defs><linearGradient id="fg" x1="0%" y1="100%" x2="100%" y2="0%"><stop offset="0%" stop-color="#f59e0b"/><stop offset="100%" stop-color="#f87171"/></linearGradient></defs>
          <circle cx="32" cy="32" r="26" fill="url(#fg)"/>
          <circle cx="20" cy="24" r="2" fill="white" opacity=".9"/><circle cx="40" cy="22" r="1.8" fill="white" opacity=".8"/>
          <circle cx="38" cy="38" r="2" fill="white" opacity=".75"/>
        </svg>
        Magec · Apache 2.0
      </div>
      <ul class="footer__links">
        <li><a href="https://github.com/achetronic/magec" target="_blank" rel="noopener">GitHub</a></li>
        <li><a href="/docs/">Docs</a></li>
        <li><a href="https://github.com/achetronic/magec/issues" target="_blank" rel="noopener">Issues</a></li>
      </ul>
    </div>
  </div>
</footer>

  <script type="module" src="/js/main.js"></script>
</body>
</html>
