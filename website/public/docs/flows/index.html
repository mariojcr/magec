<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Agentic Flows — Magec — Self-hosted Multi-Agent AI Platform</title>
  <meta name="description" content="Define multiple AI agents, chain them into workflows, connect tools. Voice, Telegram, webhooks, cron. Your server, your rules.">
  <meta name="theme-color" content="#1c1917">
  <link rel="icon" type="image/svg+xml" href="/img/logo.svg">
  <link rel="stylesheet" href="/css/style.css">
  <meta property="og:title" content="Agentic Flows">
  <meta property="og:description" content="Define multiple AI agents, chain them into workflows, connect tools. Voice, Telegram, webhooks, cron. Your server, your rules.">
  <meta property="og:type" content="website">
</head>
<body>
  <nav class="nav scrolled">
  <div class="nav__inner">
    <a href="/" class="nav__logo">
      <svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
        <defs><linearGradient id="ng" x1="0%" y1="100%" x2="100%" y2="0%"><stop offset="0%" stop-color="#f59e0b"/><stop offset="100%" stop-color="#f87171"/></linearGradient></defs>
        <circle cx="32" cy="32" r="26" fill="url(#ng)"/>
        <circle cx="20" cy="24" r="2" fill="white" opacity=".9"/><circle cx="26" cy="18" r="1.5" fill="white" opacity=".7"/>
        <circle cx="40" cy="22" r="1.8" fill="white" opacity=".8"/><circle cx="46" cy="30" r="1.2" fill="white" opacity=".6"/>
        <circle cx="38" cy="38" r="2" fill="white" opacity=".75"/><circle cx="24" cy="40" r="1.4" fill="white" opacity=".65"/>
      </svg>
      Magec
    </a>
    <button class="nav__toggle" aria-label="Toggle menu">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M4 6h16M4 12h16M4 18h16"/></svg>
    </button>
    <ul class="nav__links">
      
      <li><a href="/" class="nav__link">Quick Start</a></li>
      
      <li><a href="/#features" class="nav__link">Features</a></li>
      
      <li><a href="/#screenshots" class="nav__link">Screenshots</a></li>
      
      <li><a href="/docs/" class="nav__link">Docs</a></li>
      
      <li>
        <a href="https://github.com/achetronic/magec" class="nav__cta" target="_blank" rel="noopener">
          <svg viewBox="0 0 16 16" fill="currentColor"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/></svg>
          GitHub
        </a>
      </li>
    </ul>
  </div>
</nav>

  <main>
    
<div class="container">
  <div class="docs-layout">
    <aside class="docs-sidebar">
      
      
      <div class="docs-sidebar__group">
        <div class="docs-sidebar__label">Getting Started</div>
        
        <a href="/docs/install-docker/" class="docs-sidebar__link">Docker Quick Start</a>
        
        <a href="/docs/install-compose-local/" class="docs-sidebar__link">Docker Compose</a>
        
        <a href="/docs/install-binary/" class="docs-sidebar__link">Binary Install</a>
        
        <a href="/docs/configuration/" class="docs-sidebar__link">Configuration</a>
        
        <a href="/docs/docker/" class="docs-sidebar__link">Docker Reference</a>
        
      </div>
      
      
      
      <div class="docs-sidebar__group">
        <div class="docs-sidebar__label">Security</div>
        
        <a href="/docs/admin-password/" class="docs-sidebar__link">Admin Password</a>
        
        <a href="/docs/secrets/" class="docs-sidebar__link">Secrets</a>
        
      </div>
      
      
      
      <div class="docs-sidebar__group">
        <div class="docs-sidebar__label">Core Concepts</div>
        
        <a href="/docs/agents/" class="docs-sidebar__link">Agents</a>
        
        <a href="/docs/flows/" class="docs-sidebar__link docs-sidebar__link--active">Agentic Flows</a>
        
        <a href="/docs/backends/" class="docs-sidebar__link">AI Backends</a>
        
        <a href="/docs/memory/" class="docs-sidebar__link">Memory</a>
        
        <a href="/docs/mcp/" class="docs-sidebar__link">MCP Tools</a>
        
        <a href="/docs/commands/" class="docs-sidebar__link">Commands</a>
        
      </div>
      
      
      
      <div class="docs-sidebar__group">
        <div class="docs-sidebar__label">Clients</div>
        
        <a href="/docs/clients/" class="docs-sidebar__link">Overview</a>
        
        <a href="/docs/voice-ui/" class="docs-sidebar__link">Voice UI</a>
        
        <a href="/docs/telegram/" class="docs-sidebar__link">Telegram</a>
        
        <a href="/docs/webhooks/" class="docs-sidebar__link">Webhooks</a>
        
        <a href="/docs/cron/" class="docs-sidebar__link">Cron</a>
        
      </div>
      
      
      
      <div class="docs-sidebar__group">
        <div class="docs-sidebar__label">Reference</div>
        
        <a href="/docs/api/" class="docs-sidebar__link">API Reference</a>
        
        <a href="/docs/voice-system/" class="docs-sidebar__link">Voice System</a>
        
        <a href="/docs/screenshots/" class="docs-sidebar__link">Screenshots</a>
        
      </div>
      
      
    </aside>
    <div class="docs-content">
      <button class="docs-sidebar-toggle btn btn--ghost">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18"><path d="M4 6h16M4 12h16M4 18h16"/></svg>
        Navigation
      </button>
      <h1>Agentic Flows</h1>
      <p>A flow chains multiple agents into a multi-step workflow. Instead of one agent handling everything, you split the work: one agent researches, another writes, another reviews, another fact-checks. Each agent focuses on what it does best, and the flow coordinates them.</p>
<p>Flows are built visually in the Admin UI with a drag-and-drop editor. You can also define them as JSON through the API. The visual editor is the same regardless of complexity — a 2-agent pipeline and a 20-agent workflow use the same building blocks.</p>
<div class="screenshots" style="margin-bottom: 2rem;">



<img src="/img/screenshots/admin-flows.png" alt="Admin UI — Flows" class="screenshot screenshot--desktop">

</div>
<h2 id="why-use-flows">Why use flows</h2>
<p>A single agent can be powerful, but it has limits. It might be great at writing but mediocre at fact-checking. It might handle research well but produce unstructured output. Flows solve this by letting you compose specialized agents:</p>
<ul>
<li><strong>Quality through specialization</strong> — Each agent has a focused prompt and can use a different model. A fast cheap model for drafts, a powerful expensive model for review.</li>
<li><strong>Iterative refinement</strong> — Loops let agents revise their work until it meets a quality bar.</li>
<li><strong>Parallel processing</strong> — Multiple agents work simultaneously on different parts of a problem, then their results merge.</li>
<li><strong>Data passing</strong> — Agents share structured data through output keys, so one agent&rsquo;s research becomes another agent&rsquo;s input.</li>
</ul>
<h2 id="step-types">Step types</h2>
<p>Flows are built from four types of steps, which can be nested freely:</p>
<h3 id="agent">Agent</h3>
<p>The leaf node. It runs a single agent and passes its output forward. Every flow ultimately bottoms out in agent steps — they&rsquo;re the ones doing the actual work.</p>
<h3 id="sequential">Sequential</h3>
<p>Runs its children one after another, in order. The output of each step becomes available to the next. This is the most common building block — &ldquo;do A, then B, then C.&rdquo;</p>
<h3 id="parallel">Parallel</h3>
<p>Runs its children simultaneously. All branches receive the same input and their outputs are concatenated and passed forward. Use this when multiple agents can work independently on different aspects of the same problem.</p>
<h3 id="loop">Loop</h3>
<p>Repeats its children until one of two things happens:</p>
<ol>
<li>An agent calls the built-in <code>exit_loop</code> tool, signaling that the work is done</li>
<li>The <code>maxIterations</code> limit is reached (safety net to prevent infinite loops)</li>
</ol>
<p>Loops are powerful for iterative refinement — an agent drafts, a critic reviews, and the loop continues until the critic is satisfied.</p>
<h2 id="nesting">Nesting</h2>
<p>Steps can be nested without limits. A sequential step can contain parallel branches. A parallel branch can contain loops. A loop can contain sequences with more parallels inside them. The visual editor handles this naturally — you drag steps into other steps.</p>
<h2 id="building-flows">Building flows</h2>
<h3 id="visual-editor">Visual editor</h3>
<p>The Admin UI has a flow editor where you create flows by dragging step types onto a canvas and connecting them. Add agents, wrap them in sequential/parallel/loop containers, and arrange them however you want.</p>
<div class="screenshots" style="margin-bottom: 2rem;">



<img src="/img/screenshots/admin-flow-simple.png" alt="Admin UI — Research Pipeline flow (4 agents)" class="screenshot screenshot--desktop">

</div>
<p>The Research Pipeline above shows a simple flow: parallel research and critique, then fact-checking, then synthesis. Four agents, clear and readable.</p>
<p>The same editor handles much larger workflows. The Software Factory below chains 13 agents through a full software development lifecycle:</p>
<div class="screenshots" style="margin-bottom: 2rem;">



<img src="/img/screenshots/admin-flow-complex.png" alt="Admin UI — Software Factory flow (13 agents)" class="screenshot screenshot--desktop">

</div>
<h3 id="how-data-flows-between-agents">How data flows between agents</h3>
<p>Each step receives the accumulated output of all previous steps as context. The mechanism for structured data passing is <strong>output keys</strong>:</p>
<ol>
<li>Give an agent an <code>outputKey</code> in its <a href="/docs/agents/">configuration</a> (e.g., <code>research_results</code>)</li>
<li>The agent&rsquo;s output is saved under that key in the flow&rsquo;s shared state</li>
<li>Later agents can reference it with <code>{research_results}</code> in their system prompt</li>
<li>Magec replaces the placeholder with the actual output at runtime</li>
</ol>
<p>This lets you build precise data pipelines. A &ldquo;researcher&rdquo; outputs structured findings, a &ldquo;writer&rdquo; references those findings in its prompt, a &ldquo;reviewer&rdquo; references both. Each agent sees exactly the context it needs.</p>
<p>In parallel steps, all branches receive the same input. Their outputs are concatenated and passed to whatever comes next.</p>
<h2 id="response-agents">Response agents</h2>
<p>When a flow runs, every agent in the pipeline produces output internally. But the user doesn&rsquo;t necessarily want to see all of it — they want the final result. The <strong>response agent</strong> flag controls which agent&rsquo;s output appears in the response that the user sees.</p>
<p>Mark one or more agent steps as &ldquo;response agent&rdquo; in the flow editor. Only those agents&rsquo; outputs will be included in the final response. This is especially useful for flows where intermediate steps (research, validation, formatting) produce output that&rsquo;s useful for the pipeline but not for the user.</p>
<h2 id="spokesperson-voice-ui">Spokesperson (Voice UI)</h2>
<p>When a flow is selected in the Voice UI, you can choose which agent acts as the <strong>spokesperson</strong> — the voice the user hears. The spokesperson&rsquo;s TTS and STT configuration determines how the flow sounds and how it listens.</p>
<p>By default, the spokesperson is the first response agent. But you can switch it from the agent switcher in the Voice UI. This lets you, for example, have a flow where the &ldquo;manager&rdquo; agent is the response agent (its text appears in chat) but the &ldquo;presenter&rdquo; agent is the spokesperson (its voice is what you hear).</p>
<p>See <a href="/docs/voice-ui/">Voice UI — Spokesperson</a> for details.</p>
<h2 id="example-flows">Example flows</h2>
<h3 id="research-pipeline-4-agents">Research Pipeline (4 agents)</h3>
<p>A parallel research stage where two researchers work simultaneously, a critique stage, then synthesis.</p>
<pre tabindex="0"><code>Sequential
├── Parallel
│   ├── Agent: Researcher A
│   └── Agent: Researcher B
├── Agent: Fact Checker
└── Agent: Synthesizer (response agent)
</code></pre><h3 id="debate-arena-3-agents">Debate Arena (3 agents)</h3>
<p>A loop where two debaters argue while a moderator controls the flow.</p>
<pre tabindex="0"><code>Loop (maxIterations: 5)
└── Sequential
    ├── Agent: Debater A
    ├── Agent: Debater B
    └── Agent: Moderator (calls exit_loop when debate is resolved)
</code></pre><h3 id="software-factory-13-agents">Software Factory (13 agents)</h3>
<p>A full SDLC pipeline with parallel development branches and quality loops.</p>
<pre tabindex="0"><code>Sequential
├── Agent: Product Manager
├── Agent: Architect
├── Parallel
│   ├── Agent: Frontend Developer
│   ├── Agent: Backend Developer
│   └── Agent: Database Engineer
├── Loop
│   └── Sequential
│       ├── Agent: QA Engineer
│       └── Agent: Code Reviewer
├── Agent: Technical Writer
├── Agent: Security Auditor
└── Agent: Deployment Manager (response agent)
</code></pre><p>These are just patterns. You can build any workflow topology that makes sense for your use case.</p>



<div class="docs-callout docs-callout--info">
  Flows, like agents, support hot-reload. Edit a flow in the Admin UI and the changes take effect immediately — no restart needed.
</div>


    </div>
  </div>
</div>

  </main>
  <div id="lightbox" class="lightbox">
  <button class="lightbox__close" aria-label="Close">✕</button>
  <img id="lightbox-img" src="" alt="">
</div>

  <footer class="footer">
  <div class="container">
    <div class="footer__inner">
      <div class="footer__brand">
        <svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" width="20" height="20">
          <defs><linearGradient id="fg" x1="0%" y1="100%" x2="100%" y2="0%"><stop offset="0%" stop-color="#f59e0b"/><stop offset="100%" stop-color="#f87171"/></linearGradient></defs>
          <circle cx="32" cy="32" r="26" fill="url(#fg)"/>
          <circle cx="20" cy="24" r="2" fill="white" opacity=".9"/><circle cx="40" cy="22" r="1.8" fill="white" opacity=".8"/>
          <circle cx="38" cy="38" r="2" fill="white" opacity=".75"/>
        </svg>
        Magec · Apache 2.0
      </div>
      <ul class="footer__links">
        <li><a href="https://github.com/achetronic/magec" target="_blank" rel="noopener">GitHub</a></li>
        <li><a href="/docs/">Docs</a></li>
        <li><a href="https://github.com/achetronic/magec/issues" target="_blank" rel="noopener">Issues</a></li>
      </ul>
    </div>
  </div>
</footer>

  <script type="module" src="/js/main.js"></script>
</body>
</html>
