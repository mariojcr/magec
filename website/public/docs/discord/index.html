<!DOCTYPE html>
<html lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Discord ‚Äî Magec ‚Äî Self-hosted Multi-Agent AI Platform</title>
  <meta name="description" content="Define multiple AI agents, chain them into workflows, connect tools. Voice, Telegram, webhooks, cron. Your server, your rules.">
  <meta name="theme-color" content="#1c1917">
  <link rel="icon" type="image/svg+xml" href="/img/logo.svg">
  <link rel="stylesheet" href="/css/style.css">
  <meta property="og:title" content="Discord">
  <meta property="og:description" content="Define multiple AI agents, chain them into workflows, connect tools. Voice, Telegram, webhooks, cron. Your server, your rules.">
  <meta property="og:type" content="website">
</head>
<body>
  <nav class="nav scrolled">
  <div class="nav__inner">
    <a href="/" class="nav__logo">
      <svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
        <defs><linearGradient id="ng" x1="0%" y1="100%" x2="100%" y2="0%"><stop offset="0%" stop-color="#f59e0b"/><stop offset="100%" stop-color="#f87171"/></linearGradient></defs>
        <circle cx="32" cy="32" r="26" fill="url(#ng)"/>
        <circle cx="20" cy="24" r="2" fill="white" opacity=".9"/><circle cx="26" cy="18" r="1.5" fill="white" opacity=".7"/>
        <circle cx="40" cy="22" r="1.8" fill="white" opacity=".8"/><circle cx="46" cy="30" r="1.2" fill="white" opacity=".6"/>
        <circle cx="38" cy="38" r="2" fill="white" opacity=".75"/><circle cx="24" cy="40" r="1.4" fill="white" opacity=".65"/>
      </svg>
      Magec
    </a>
    <button class="nav__toggle" aria-label="Toggle menu">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M4 6h16M4 12h16M4 18h16"/></svg>
    </button>
    <ul class="nav__links">
      
      <li><a href="/#how-it-works" class="nav__link">How it works</a></li>
      
      <li><a href="/#what" class="nav__link">Platform</a></li>
      
      <li><a href="/#use-cases" class="nav__link">Use cases</a></li>
      
      <li><a href="/#screenshots" class="nav__link">Screenshots</a></li>
      
      <li><a href="/docs/" class="nav__link">Docs</a></li>
      
      <li>
        <a href="https://github.com/achetronic/magec" class="nav__cta" target="_blank" rel="noopener">
          <svg viewBox="0 0 16 16" fill="currentColor"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/></svg>
          GitHub
        </a>
      </li>
    </ul>
  </div>
</nav>

  <main>
    
<div class="container">
  <div class="docs-layout">
    <aside class="docs-sidebar">
      
      
      <div class="docs-sidebar__group">
        <div class="docs-sidebar__label">Getting Started</div>
        
        <a href="/docs/install-docker/" class="docs-sidebar__link">Docker Quick Start</a>
        
        <a href="/docs/install-compose-local/" class="docs-sidebar__link">Docker Compose</a>
        
        <a href="/docs/install-binary/" class="docs-sidebar__link">Binary Install</a>
        
        <a href="/docs/configuration/" class="docs-sidebar__link">Configuration</a>
        
      </div>
      
      
      
      <div class="docs-sidebar__group">
        <div class="docs-sidebar__label">Security</div>
        
        <a href="/docs/admin-password/" class="docs-sidebar__link">Admin Password</a>
        
      </div>
      
      
      
      <div class="docs-sidebar__group">
        <div class="docs-sidebar__label">Core Concepts</div>
        
        <a href="/docs/agents/" class="docs-sidebar__link">Agents</a>
        
        <a href="/docs/flows/" class="docs-sidebar__link">Agentic Flows</a>
        
        <a href="/docs/backends/" class="docs-sidebar__link">AI Backends</a>
        
        <a href="/docs/memory/" class="docs-sidebar__link">Memory</a>
        
        <a href="/docs/mcp/" class="docs-sidebar__link">MCP Tools</a>
        
        <a href="/docs/skills/" class="docs-sidebar__link">Skills</a>
        
        <a href="/docs/a2a/" class="docs-sidebar__link">A2A Protocol</a>
        
        <a href="/docs/secrets/" class="docs-sidebar__link">Secrets</a>
        
        <a href="/docs/commands/" class="docs-sidebar__link">Commands</a>
        
      </div>
      
      
      
      <div class="docs-sidebar__group">
        <div class="docs-sidebar__label">Clients</div>
        
        <a href="/docs/clients/" class="docs-sidebar__link">Overview</a>
        
        <a href="/docs/voice-ui/" class="docs-sidebar__link">Voice UI</a>
        
        <a href="/docs/telegram/" class="docs-sidebar__link">Telegram</a>
        
        <a href="/docs/slack/" class="docs-sidebar__link">Slack</a>
        
        <a href="/docs/discord/" class="docs-sidebar__link docs-sidebar__link--active">Discord</a>
        
        <a href="/docs/webhooks/" class="docs-sidebar__link">Webhooks</a>
        
        <a href="/docs/cron/" class="docs-sidebar__link">Cron</a>
        
      </div>
      
      
      
      <div class="docs-sidebar__group">
        <div class="docs-sidebar__label">Reference</div>
        
        <a href="/docs/api/" class="docs-sidebar__link">API Reference</a>
        
        <a href="/docs/voice-system/" class="docs-sidebar__link">Voice System</a>
        
        <a href="/docs/secrets-advanced/" class="docs-sidebar__link">Advanced Secrets</a>
        
        <a href="/docs/skills-vs-agents/" class="docs-sidebar__link">Skills vs. Agents</a>
        
        <a href="/docs/screenshots/" class="docs-sidebar__link">Screenshots</a>
        
      </div>
      
      
    </aside>
    <div class="docs-content">
      <button class="docs-sidebar-toggle btn btn--ghost">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18"><path d="M4 6h16M4 12h16M4 18h16"/></svg>
        Navigation
      </button>
      <h1>Discord</h1>
      <p>Magec can connect to Discord through a bot. Users chat with the bot in DMs or @mention it in channels, and the bot responds using your configured agents. It supports text and voice messages, multiple response modes, and per-channel agent switching. No public URL needed ‚Äî the bot connects outward to Discord.</p>
<div class="screenshots" style="margin-bottom: 2rem;">



<img src="/img/screenshots/admin-clients-discord.png" alt="Admin UI ‚Äî Discord client" class="screenshot screenshot--desktop">

</div>
<h2 id="setup">
  Setup
  <a class="heading-anchor" href="#setup" aria-label="Link to this section">#</a>
</h2>
<h3 id="1-create-a-discord-application">
  1. Create a Discord Application
  <a class="heading-anchor" href="#1-create-a-discord-application" aria-label="Link to this section">#</a>
</h3>
<p>Go to the <a href="https://discord.com/developers/applications">Discord Developer Portal</a> and create a new application:</p>
<ol>
<li>Click <strong>New Application</strong></li>
<li>Name it (e.g., &ldquo;Magec Assistant&rdquo;) and accept the terms</li>
<li>Copy the <strong>Application ID</strong> from the General Information page ‚Äî you&rsquo;ll need it for the invite URL</li>
</ol>
<div class="screenshots" style="margin-bottom: 2rem;">



<img src="/img/screenshots/discord-portal-general.png" alt="Discord Developer Portal ‚Äî General Information" class="screenshot screenshot--desktop">

</div>
<h3 id="2-configure-the-bot">
  2. Configure the Bot
  <a class="heading-anchor" href="#2-configure-the-bot" aria-label="Link to this section">#</a>
</h3>
<p>In the left sidebar, click <strong>Bot</strong>:</p>
<ol>
<li>Click <strong>Reset Token</strong> to generate a bot token ‚Äî <strong>copy it immediately</strong>, you won&rsquo;t see it again</li>
<li>Scroll down to <strong>Privileged Gateway Intents</strong> and enable <strong>Message Content Intent</strong></li>
</ol>



<div class="docs-callout">
  <strong>Message Content Intent is required.</strong> Without it, the bot receives messages but can&rsquo;t read the text. You need to toggle it on manually in the Developer Portal. For bots in fewer than 100 servers, no approval is needed.
</div>

<div class="screenshots" style="margin-bottom: 2rem;">



<img src="/img/screenshots/discord-portal-permissions.png" alt="Discord Developer Portal ‚Äî Bot permissions and Message Content Intent" class="screenshot screenshot--desktop">

</div>
<h3 id="3-invite-the-bot-to-your-server">
  3. Invite the Bot to Your Server
  <a class="heading-anchor" href="#3-invite-the-bot-to-your-server" aria-label="Link to this section">#</a>
</h3>
<p>Use this URL to invite the bot (replace <code>YOUR_APP_ID</code> with your Application ID):</p>
<pre tabindex="0"><code>https://discord.com/oauth2/authorize?client_id=YOUR_APP_ID&amp;permissions=70643622186048&amp;scope=bot
</code></pre><p>Open it in your browser, select your server, and authorize.</p>
<p>Alternatively, go to <strong>OAuth2</strong> in the sidebar, select the <code>bot</code> scope, check the permissions from the table below, and use the generated URL.</p>
<h3 id="4-get-your-user-id">
  4. Get Your User ID
  <a class="heading-anchor" href="#4-get-your-user-id" aria-label="Link to this section">#</a>
</h3>
<p>In Discord, go to <strong>Settings ‚Üí Advanced</strong> and enable <strong>Developer Mode</strong>. Then right-click your username anywhere and select <strong>Copy User ID</strong>.</p>
<h3 id="5-create-a-discord-client-in-magec">
  5. Create a Discord Client in Magec
  <a class="heading-anchor" href="#5-create-a-discord-client-in-magec" aria-label="Link to this section">#</a>
</h3>
<p>In the Admin UI, go to <strong>Clients</strong> ‚Üí <strong>New</strong> ‚Üí <strong>Discord</strong>:</p>
<table>
  <thead>
      <tr>
          <th>Field</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>name</code></td>
          <td>Display name for this client</td>
      </tr>
      <tr>
          <td><code>botToken</code></td>
          <td>The bot token from step 2</td>
      </tr>
      <tr>
          <td><code>allowedUsers</code></td>
          <td>Discord user IDs that can use this bot (empty = everyone)</td>
      </tr>
      <tr>
          <td><code>allowedChannels</code></td>
          <td>Channel IDs where the bot can respond (empty = all channels)</td>
      </tr>
      <tr>
          <td><code>responseMode</code></td>
          <td>How the bot responds ‚Äî see <a href="#response-modes">Response modes</a></td>
      </tr>
      <tr>
          <td><code>allowedAgents</code></td>
          <td>Which agents and flows this bot can access</td>
      </tr>
  </tbody>
</table>
<h3 id="6-start-chatting">
  6. Start Chatting
  <a class="heading-anchor" href="#6-start-chatting" aria-label="Link to this section">#</a>
</h3>
<p>Send a DM to the bot or @mention it in a channel. It responds using the first allowed agent.</p>
<h2 id="how-it-works">
  How It Works
  <a class="heading-anchor" href="#how-it-works" aria-label="Link to this section">#</a>
</h2>
<p>The bot opens an outbound connection to Discord ‚Äî no public URL, no webhook, no ports to expose. It works behind firewalls, NATs, and on your local machine. Only one bot token is needed.</p>
<h2 id="interaction-modes">
  Interaction Modes
  <a class="heading-anchor" href="#interaction-modes" aria-label="Link to this section">#</a>
</h2>
<table>
  <thead>
      <tr>
          <th>Context</th>
          <th>How it works</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>Direct Messages</strong></td>
          <td>Send any message to the bot. It responds inline in the DM ‚Äî no thread replies, just a clean linear conversation.</td>
      </tr>
      <tr>
          <td><strong>Channel @mentions</strong></td>
          <td>@mention the bot in a channel. It replies to your message.</td>
      </tr>
  </tbody>
</table>
<p>In channels, the bot <strong>only responds when mentioned</strong>. In DMs, it responds to everything.</p>
<h2 id="response-modes">
  Response Modes
  <a class="heading-anchor" href="#response-modes" aria-label="Link to this section">#</a>
</h2>
<table>
  <thead>
      <tr>
          <th>Mode</th>
          <th>Behavior</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>text</code></td>
          <td>Always respond with text (default)</td>
      </tr>
      <tr>
          <td><code>voice</code></td>
          <td>Always respond with a voice file</td>
      </tr>
      <tr>
          <td><code>mirror</code></td>
          <td>Match your format ‚Äî text replies to text, voice replies to voice</td>
      </tr>
      <tr>
          <td><code>both</code></td>
          <td>Respond with both text and a voice file</td>
      </tr>
  </tbody>
</table>
<p>You can change the response mode at runtime with the <code>!responsemode</code> command.</p>
<h2 id="voice-messages">
  Voice Messages
  <a class="heading-anchor" href="#voice-messages" aria-label="Link to this section">#</a>
</h2>
<p>Send a voice message to the bot and it transcribes it. When the response mode includes voice, the bot sends audio responses back.</p>



<div class="docs-callout docs-callout--info">
  <strong>Voice messages are mobile-only.</strong> Discord only supports sending voice messages from the mobile app (iOS/Android) ‚Äî there is no microphone button on desktop. Tap and hold the microphone icon next to the text field, speak, and release to send. From desktop, you can record audio with any app and upload it as a file attachment using the <code>+</code> button.
</div>




<div class="docs-callout">
  <strong>Requires ffmpeg.</strong> The official Magec Docker image includes it. If you&rsquo;re using a custom image, make sure ffmpeg is installed.
</div>

<h2 id="bot-commands">
  Bot Commands
  <a class="heading-anchor" href="#bot-commands" aria-label="Link to this section">#</a>
</h2>
<table>
  <thead>
      <tr>
          <th>Command</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>!help</code></td>
          <td>List available commands</td>
      </tr>
      <tr>
          <td><code>!agent</code></td>
          <td>Show the current agent and list all available ones</td>
      </tr>
      <tr>
          <td><code>!agent &lt;id&gt;</code></td>
          <td>Switch to a different agent</td>
      </tr>
      <tr>
          <td><code>!reset</code></td>
          <td>Reset the conversation (start fresh)</td>
      </tr>
      <tr>
          <td><code>!responsemode</code></td>
          <td>Show the current response mode</td>
      </tr>
      <tr>
          <td><code>!responsemode &lt;mode&gt;</code></td>
          <td>Change response mode (<code>text</code>, <code>voice</code>, <code>mirror</code>, <code>both</code>, <code>reset</code>)</td>
      </tr>
  </tbody>
</table>
<p>Each channel or DM can use a different agent. Use <code>!responsemode reset</code> to go back to the default.</p>
<h2 id="progress-indicators">
  Progress Indicators
  <a class="heading-anchor" href="#progress-indicators" aria-label="Link to this section">#</a>
</h2>
<p>The bot uses emoji reactions to show what&rsquo;s happening:</p>
<table>
  <thead>
      <tr>
          <th>Emoji</th>
          <th>Meaning</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>üëÄ</td>
          <td>Message received</td>
      </tr>
      <tr>
          <td>üß†</td>
          <td>Agent is thinking</td>
      </tr>
      <tr>
          <td>‚úÖ</td>
          <td>Done</td>
      </tr>
      <tr>
          <td>‚ùå</td>
          <td>Something went wrong</td>
      </tr>
  </tbody>
</table>
<h2 id="artifacts">
  Artifacts
  <a class="heading-anchor" href="#artifacts" aria-label="Link to this section">#</a>
</h2>
<p>When an agent produces files (images, documents, etc.), the bot sends them as Discord file attachments automatically.</p>
<h2 id="thread-context">
  Thread Context
  <a class="heading-anchor" href="#thread-context" aria-label="Link to this section">#</a>
</h2>
<p>When you @mention the bot inside a <strong>thread</strong>, it automatically reads up to 20 previous messages from that thread and includes them as context for the agent. This means the agent can see what other users said in the thread ‚Äî not just messages directed at the bot.</p>
<p>This only applies to actual Discord threads (public, private, or news threads). In regular channels and DMs, thread context is not injected ‚Äî the agent relies on its own session history.</p>
<h2 id="context-metadata">
  Context Metadata
  <a class="heading-anchor" href="#context-metadata" aria-label="Link to this section">#</a>
</h2>
<p>Magec injects information about the sender into the agent context. You can use these fields in system prompts to personalize responses (e.g., <em>&ldquo;Address the user by name&rdquo;</em>):</p>
<table>
  <thead>
      <tr>
          <th>Field</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>source</code></td>
          <td>Always <code>&quot;discord&quot;</code></td>
      </tr>
      <tr>
          <td><code>discord_user_id</code></td>
          <td>User ID of the sender</td>
      </tr>
      <tr>
          <td><code>discord_username</code></td>
          <td>Username</td>
      </tr>
      <tr>
          <td><code>discord_name</code></td>
          <td>Display name</td>
      </tr>
      <tr>
          <td><code>discord_channel_id</code></td>
          <td>Channel or DM ID</td>
      </tr>
      <tr>
          <td><code>discord_channel_type</code></td>
          <td><code>&quot;guild&quot;</code> or <code>&quot;dm&quot;</code></td>
      </tr>
      <tr>
          <td><code>discord_guild_id</code></td>
          <td>Server ID (channels only)</td>
      </tr>
  </tbody>
</table>
<h2 id="security">
  Security
  <a class="heading-anchor" href="#security" aria-label="Link to this section">#</a>
</h2>



<div class="docs-callout">
  <strong>Always restrict access.</strong> Set <code>allowedUsers</code> and/or <code>allowedChannels</code> to control who can interact with the bot. Without restrictions, anyone who can DM the bot or see it in a server can talk to your agents ‚Äî and use any tools those agents have access to.
</div>

<p>Messages from unauthorized users or channels are silently ignored.</p>
<h2 id="permissions">
  Permissions
  <a class="heading-anchor" href="#permissions" aria-label="Link to this section">#</a>
</h2>
<p>The bot needs these Discord permissions (already included in the invite URL above):</p>
<table>
  <thead>
      <tr>
          <th>Permission</th>
          <th>What it&rsquo;s for</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>View Channels</td>
          <td>See channels the bot has been invited to</td>
      </tr>
      <tr>
          <td>Send Messages</td>
          <td>Send responses</td>
      </tr>
      <tr>
          <td>Send Messages in Threads</td>
          <td>Reply in threads</td>
      </tr>
      <tr>
          <td>Read Message History</td>
          <td>Access messages for replies</td>
      </tr>
      <tr>
          <td>Add Reactions</td>
          <td>Progress indicators</td>
      </tr>
      <tr>
          <td>Attach Files</td>
          <td>Voice responses and artifacts</td>
      </tr>
      <tr>
          <td>Send Voice Messages</td>
          <td>Voice responses</td>
      </tr>
  </tbody>
</table>
<p><strong>Permissions integer:</strong> <code>70643622186048</code></p>
<h2 id="multiple-bots">
  Multiple Bots
  <a class="heading-anchor" href="#multiple-bots" aria-label="Link to this section">#</a>
</h2>
<p>You can create multiple Discord clients, each with its own bot, allowed users, and agent access. For example:</p>
<ul>
<li>A <strong>personal bot</strong> restricted to your user ID with access to all agents</li>
<li>A <strong>community bot</strong> available in specific channels with access to help agents</li>
<li>A <strong>team bot</strong> restricted to certain users with access to work agents</li>
</ul>

    </div>
  </div>
</div>

  </main>
  <div id="lightbox" class="lightbox">
  <button class="lightbox__close" aria-label="Close">‚úï</button>
  <img id="lightbox-img" src="" alt="">
</div>

  <footer class="footer">
  <div class="container">
    <div class="footer__inner">
      <div class="footer__brand">
        <svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" width="20" height="20">
          <defs><linearGradient id="fg" x1="0%" y1="100%" x2="100%" y2="0%"><stop offset="0%" stop-color="#f59e0b"/><stop offset="100%" stop-color="#f87171"/></linearGradient></defs>
          <circle cx="32" cy="32" r="26" fill="url(#fg)"/>
          <circle cx="20" cy="24" r="2" fill="white" opacity=".9"/><circle cx="40" cy="22" r="1.8" fill="white" opacity=".8"/>
          <circle cx="38" cy="38" r="2" fill="white" opacity=".75"/>
        </svg>
        Magec ¬∑ Apache 2.0
      </div>
      <ul class="footer__links">
        <li><a href="https://github.com/achetronic/magec" target="_blank" rel="noopener">GitHub</a></li>
        <li><a href="/docs/">Docs</a></li>
        <li><a href="https://github.com/achetronic/magec/issues" target="_blank" rel="noopener">Issues</a></li>
      </ul>
    </div>
  </div>
</footer>

  <script type="module" src="/js/main.js"></script>
</body>
</html>
