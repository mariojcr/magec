<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Webhooks — Magec — Self-hosted Multi-Agent AI Platform</title>
  <meta name="description" content="Define multiple AI agents, chain them into workflows, connect tools. Voice, Telegram, webhooks, cron. Your server, your rules.">
  <meta name="theme-color" content="#1c1917">
  <link rel="icon" type="image/svg+xml" href="/img/logo.svg">
  <link rel="stylesheet" href="/css/style.css">
  <meta property="og:title" content="Webhooks">
  <meta property="og:description" content="Define multiple AI agents, chain them into workflows, connect tools. Voice, Telegram, webhooks, cron. Your server, your rules.">
  <meta property="og:type" content="website">
</head>
<body>
  <nav class="nav scrolled">
  <div class="nav__inner">
    <a href="/" class="nav__logo">
      <svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
        <defs><linearGradient id="ng" x1="0%" y1="100%" x2="100%" y2="0%"><stop offset="0%" stop-color="#f59e0b"/><stop offset="100%" stop-color="#f87171"/></linearGradient></defs>
        <circle cx="32" cy="32" r="26" fill="url(#ng)"/>
        <circle cx="20" cy="24" r="2" fill="white" opacity=".9"/><circle cx="26" cy="18" r="1.5" fill="white" opacity=".7"/>
        <circle cx="40" cy="22" r="1.8" fill="white" opacity=".8"/><circle cx="46" cy="30" r="1.2" fill="white" opacity=".6"/>
        <circle cx="38" cy="38" r="2" fill="white" opacity=".75"/><circle cx="24" cy="40" r="1.4" fill="white" opacity=".65"/>
      </svg>
      Magec
    </a>
    <button class="nav__toggle" aria-label="Toggle menu">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M4 6h16M4 12h16M4 18h16"/></svg>
    </button>
    <ul class="nav__links">
      
      <li><a href="/" class="nav__link">Quick Start</a></li>
      
      <li><a href="/#features" class="nav__link">Features</a></li>
      
      <li><a href="/#screenshots" class="nav__link">Screenshots</a></li>
      
      <li><a href="/docs/" class="nav__link">Docs</a></li>
      
      <li>
        <a href="https://github.com/achetronic/magec" class="nav__cta" target="_blank" rel="noopener">
          <svg viewBox="0 0 16 16" fill="currentColor"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/></svg>
          GitHub
        </a>
      </li>
    </ul>
  </div>
</nav>

  <main>
    
<div class="container">
  <div class="docs-layout">
    <aside class="docs-sidebar">
      
      
      <div class="docs-sidebar__group">
        <div class="docs-sidebar__label">Getting Started</div>
        
        <a href="/docs/install-docker/" class="docs-sidebar__link">Docker Quick Start</a>
        
        <a href="/docs/install-compose-local/" class="docs-sidebar__link">Docker Compose</a>
        
        <a href="/docs/install-binary/" class="docs-sidebar__link">Binary Install</a>
        
        <a href="/docs/configuration/" class="docs-sidebar__link">Configuration</a>
        
        <a href="/docs/docker/" class="docs-sidebar__link">Docker Reference</a>
        
      </div>
      
      
      
      <div class="docs-sidebar__group">
        <div class="docs-sidebar__label">Security</div>
        
        <a href="/docs/admin-password/" class="docs-sidebar__link">Admin Password</a>
        
        <a href="/docs/secrets/" class="docs-sidebar__link">Secrets</a>
        
      </div>
      
      
      
      <div class="docs-sidebar__group">
        <div class="docs-sidebar__label">Core Concepts</div>
        
        <a href="/docs/agents/" class="docs-sidebar__link">Agents</a>
        
        <a href="/docs/flows/" class="docs-sidebar__link">Agentic Flows</a>
        
        <a href="/docs/backends/" class="docs-sidebar__link">AI Backends</a>
        
        <a href="/docs/memory/" class="docs-sidebar__link">Memory</a>
        
        <a href="/docs/mcp/" class="docs-sidebar__link">MCP Tools</a>
        
        <a href="/docs/commands/" class="docs-sidebar__link">Commands</a>
        
      </div>
      
      
      
      <div class="docs-sidebar__group">
        <div class="docs-sidebar__label">Clients</div>
        
        <a href="/docs/clients/" class="docs-sidebar__link">Overview</a>
        
        <a href="/docs/voice-ui/" class="docs-sidebar__link">Voice UI</a>
        
        <a href="/docs/telegram/" class="docs-sidebar__link">Telegram</a>
        
        <a href="/docs/webhooks/" class="docs-sidebar__link docs-sidebar__link--active">Webhooks</a>
        
        <a href="/docs/cron/" class="docs-sidebar__link">Cron</a>
        
      </div>
      
      
      
      <div class="docs-sidebar__group">
        <div class="docs-sidebar__label">Reference</div>
        
        <a href="/docs/api/" class="docs-sidebar__link">API Reference</a>
        
        <a href="/docs/voice-system/" class="docs-sidebar__link">Voice System</a>
        
        <a href="/docs/screenshots/" class="docs-sidebar__link">Screenshots</a>
        
      </div>
      
      
    </aside>
    <div class="docs-content">
      <button class="docs-sidebar-toggle btn btn--ghost">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18"><path d="M4 6h16M4 12h16M4 18h16"/></svg>
        Navigation
      </button>
      <h1>Webhooks</h1>
      <p>Webhook clients expose an HTTP endpoint that triggers agent invocations. External systems make an HTTP request, Magec processes it through an agent, and the response comes back in the HTTP response body. This is how you integrate Magec with CI/CD pipelines, form handlers, monitoring systems, or any tool that can make HTTP requests.</p>
<p>Each webhook gets a unique URL and its own authentication token. There are two modes depending on where the prompt comes from.</p>
<h2 id="command-mode">Command mode</h2>
<p>The webhook runs a preconfigured <a href="/docs/commands/">command</a> — a reusable prompt that you define once and trigger as many times as you want. The request body is ignored; the prompt is always the same command.</p>
<p>This is useful for recurring tasks that always do the same thing:</p>
<ul>
<li><strong>Daily reports</strong> — A monitoring system hits the webhook every morning, the agent queries data and generates a summary</li>
<li><strong>CI/CD integration</strong> — A pipeline triggers the webhook after each deploy, the agent reviews the changelog</li>
<li><strong>Scheduled checks</strong> — An external scheduler calls the webhook, the agent runs a security audit</li>
</ul>
<p>The agent, prompt, and behavior are all defined in the command. The webhook is just the trigger.</p>
<h3 id="configuration">Configuration</h3>
<table>
  <thead>
      <tr>
          <th>Field</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>name</code></td>
          <td>Display name</td>
      </tr>
      <tr>
          <td><code>passthrough</code></td>
          <td>Set to <code>false</code> for command mode</td>
      </tr>
      <tr>
          <td><code>commandId</code></td>
          <td>The command to run when the webhook is triggered</td>
      </tr>
      <tr>
          <td><code>allowedAgents</code></td>
          <td>Which agents/flows this webhook can access</td>
      </tr>
  </tbody>
</table>
<h2 id="passthrough-mode">Passthrough mode</h2>
<p>The prompt comes from the outside. Whatever is sent in the request body gets forwarded to the agent as the user message. The webhook acts as a bridge between external systems and your agents.</p>
<p>This is the mode you want when the input is dynamic:</p>
<ul>
<li><strong>Form submissions</strong> — A contact form sends the message to the agent for processing or classification</li>
<li><strong>Alert handling</strong> — A monitoring system sends an alert, the agent analyzes it and decides on action</li>
<li><strong>Chat integrations</strong> — A custom frontend or third-party service sends user messages through the webhook</li>
<li><strong>Data processing</strong> — External systems send data for the agent to analyze, summarize, or transform</li>
</ul>
<h3 id="configuration-1">Configuration</h3>
<table>
  <thead>
      <tr>
          <th>Field</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>name</code></td>
          <td>Display name</td>
      </tr>
      <tr>
          <td><code>passthrough</code></td>
          <td>Set to <code>true</code> for passthrough mode</td>
      </tr>
      <tr>
          <td><code>allowedAgents</code></td>
          <td>Which agents/flows this webhook can access</td>
      </tr>
  </tbody>
</table>
<h2 id="calling-a-webhook">Calling a webhook</h2>
<p>Every webhook has a URL and a token. The URL format is:</p>
<pre tabindex="0"><code>POST http://localhost:8080/api/v1/webhooks/{clientID}
</code></pre><p>Authentication uses the client&rsquo;s token as a Bearer token:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># Command mode — body is ignored</span>
</span></span><span class="line"><span class="cl">curl -X POST http://localhost:8080/api/v1/webhooks/YOUR_WEBHOOK_ID <span class="se">\
</span></span></span><span class="line"><span class="cl">  -H <span class="s2">&#34;Authorization: Bearer mgc_your_token&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Passthrough mode — body contains the prompt</span>
</span></span><span class="line"><span class="cl">curl -X POST http://localhost:8080/api/v1/webhooks/YOUR_WEBHOOK_ID <span class="se">\
</span></span></span><span class="line"><span class="cl">  -H <span class="s2">&#34;Authorization: Bearer mgc_your_token&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl">  -H <span class="s2">&#34;Content-Type: application/json&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl">  -d <span class="s1">&#39;{&#34;prompt&#34;: &#34;Analyze this error: connection timeout on service X&#34;}&#39;</span>
</span></span></code></pre></div><p>The agent processes the request synchronously and the response is returned in the HTTP response body. This makes webhooks easy to integrate with any system that can make HTTP requests and read responses.</p>
<h2 id="example-integrations">Example integrations</h2>
<h3 id="github-actions">GitHub Actions</h3>
<p>Trigger an agent after a deployment to generate release notes:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl">- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Generate release notes</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">    curl -X POST ${{ secrets.MAGEC_WEBHOOK_URL }} \
</span></span></span><span class="line"><span class="cl"><span class="sd">      -H &#34;Authorization: Bearer ${{ secrets.MAGEC_TOKEN }}&#34; \
</span></span></span><span class="line"><span class="cl"><span class="sd">      -H &#34;Content-Type: application/json&#34; \
</span></span></span><span class="line"><span class="cl"><span class="sd">      -d &#39;{&#34;prompt&#34;: &#34;Generate release notes for version ${{ github.ref_name }}&#34;}&#39;</span><span class="w">
</span></span></span></code></pre></div><h3 id="monitoring-alerts">Monitoring alerts</h3>
<p>Forward alerts from Prometheus, Grafana, or any monitoring tool:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -X POST http://magec:8080/api/v1/webhooks/alert-handler <span class="se">\
</span></span></span><span class="line"><span class="cl">  -H <span class="s2">&#34;Authorization: Bearer mgc_...&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl">  -H <span class="s2">&#34;Content-Type: application/json&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl">  -d <span class="s1">&#39;{&#34;prompt&#34;: &#34;Critical alert: CPU usage above 90% on prod-web-01 for 10 minutes. Analyze possible causes and suggest remediation.&#34;}&#39;</span>
</span></span></code></pre></div><h3 id="form-processing">Form processing</h3>
<p>Process contact form submissions through an agent:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;http://magec:8080/api/v1/webhooks/form-handler&#39;</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;Authorization&#39;</span><span class="o">:</span> <span class="s1">&#39;Bearer mgc_...&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span> <span class="s1">&#39;application/json&#39;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">body</span><span class="o">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">prompt</span><span class="o">:</span> <span class="sb">`Classify this customer inquiry and draft a response:\n\n</span><span class="si">${</span><span class="nx">formData</span><span class="p">.</span><span class="nx">message</span><span class="si">}</span><span class="sb">`</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div>
    </div>
  </div>
</div>

  </main>
  <div id="lightbox" class="lightbox">
  <button class="lightbox__close" aria-label="Close">✕</button>
  <img id="lightbox-img" src="" alt="">
</div>

  <footer class="footer">
  <div class="container">
    <div class="footer__inner">
      <div class="footer__brand">
        <svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" width="20" height="20">
          <defs><linearGradient id="fg" x1="0%" y1="100%" x2="100%" y2="0%"><stop offset="0%" stop-color="#f59e0b"/><stop offset="100%" stop-color="#f87171"/></linearGradient></defs>
          <circle cx="32" cy="32" r="26" fill="url(#fg)"/>
          <circle cx="20" cy="24" r="2" fill="white" opacity=".9"/><circle cx="40" cy="22" r="1.8" fill="white" opacity=".8"/>
          <circle cx="38" cy="38" r="2" fill="white" opacity=".75"/>
        </svg>
        Magec · Apache 2.0
      </div>
      <ul class="footer__links">
        <li><a href="https://github.com/achetronic/magec" target="_blank" rel="noopener">GitHub</a></li>
        <li><a href="/docs/">Docs</a></li>
        <li><a href="https://github.com/achetronic/magec/issues" target="_blank" rel="noopener">Issues</a></li>
      </ul>
    </div>
  </div>
</footer>

  <script type="module" src="/js/main.js"></script>
</body>
</html>
