<!DOCTYPE html>
<html lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Telegram — Magec — Self-hosted Multi-Agent AI Platform</title>
  <meta name="description" content="Define multiple AI agents, chain them into workflows, connect tools. Voice, Telegram, webhooks, cron. Your server, your rules.">
  <meta name="theme-color" content="#1c1917">
  <link rel="icon" type="image/svg+xml" href="/img/logo.svg">
  <link rel="stylesheet" href="/css/style.css">
  <meta property="og:title" content="Telegram">
  <meta property="og:description" content="Define multiple AI agents, chain them into workflows, connect tools. Voice, Telegram, webhooks, cron. Your server, your rules.">
  <meta property="og:type" content="website">
</head>
<body>
  <nav class="nav scrolled">
  <div class="nav__inner">
    <a href="/" class="nav__logo">
      <svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
        <defs><linearGradient id="ng" x1="0%" y1="100%" x2="100%" y2="0%"><stop offset="0%" stop-color="#f59e0b"/><stop offset="100%" stop-color="#f87171"/></linearGradient></defs>
        <circle cx="32" cy="32" r="26" fill="url(#ng)"/>
        <circle cx="20" cy="24" r="2" fill="white" opacity=".9"/><circle cx="26" cy="18" r="1.5" fill="white" opacity=".7"/>
        <circle cx="40" cy="22" r="1.8" fill="white" opacity=".8"/><circle cx="46" cy="30" r="1.2" fill="white" opacity=".6"/>
        <circle cx="38" cy="38" r="2" fill="white" opacity=".75"/><circle cx="24" cy="40" r="1.4" fill="white" opacity=".65"/>
      </svg>
      Magec
    </a>
    <button class="nav__toggle" aria-label="Toggle menu">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M4 6h16M4 12h16M4 18h16"/></svg>
    </button>
    <ul class="nav__links">
      
      <li><a href="/" class="nav__link">Quick Start</a></li>
      
      <li><a href="/#features" class="nav__link">Features</a></li>
      
      <li><a href="/#screenshots" class="nav__link">Screenshots</a></li>
      
      <li><a href="/docs/" class="nav__link">Docs</a></li>
      
      <li>
        <a href="https://github.com/achetronic/magec" class="nav__cta" target="_blank" rel="noopener">
          <svg viewBox="0 0 16 16" fill="currentColor"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/></svg>
          GitHub
        </a>
      </li>
    </ul>
  </div>
</nav>

  <main>
    
<div class="container">
  <div class="docs-layout">
    <aside class="docs-sidebar">
      
      
      <div class="docs-sidebar__group">
        <div class="docs-sidebar__label">Getting Started</div>
        
        <a href="/docs/install-docker/" class="docs-sidebar__link">Docker Quick Start</a>
        
        <a href="/docs/install-compose-local/" class="docs-sidebar__link">Docker Compose</a>
        
        <a href="/docs/install-binary/" class="docs-sidebar__link">Binary Install</a>
        
        <a href="/docs/configuration/" class="docs-sidebar__link">Configuration</a>
        
        <a href="/docs/docker/" class="docs-sidebar__link">Docker Reference</a>
        
      </div>
      
      
      
      <div class="docs-sidebar__group">
        <div class="docs-sidebar__label">Security</div>
        
        <a href="/docs/admin-password/" class="docs-sidebar__link">Admin Password</a>
        
      </div>
      
      
      
      <div class="docs-sidebar__group">
        <div class="docs-sidebar__label">Core Concepts</div>
        
        <a href="/docs/agents/" class="docs-sidebar__link">Agents</a>
        
        <a href="/docs/flows/" class="docs-sidebar__link">Agentic Flows</a>
        
        <a href="/docs/backends/" class="docs-sidebar__link">AI Backends</a>
        
        <a href="/docs/memory/" class="docs-sidebar__link">Memory</a>
        
        <a href="/docs/mcp/" class="docs-sidebar__link">MCP Tools</a>
        
        <a href="/docs/secrets/" class="docs-sidebar__link">Secrets</a>
        
        <a href="/docs/commands/" class="docs-sidebar__link">Commands</a>
        
      </div>
      
      
      
      <div class="docs-sidebar__group">
        <div class="docs-sidebar__label">Clients</div>
        
        <a href="/docs/clients/" class="docs-sidebar__link">Overview</a>
        
        <a href="/docs/voice-ui/" class="docs-sidebar__link">Voice UI</a>
        
        <a href="/docs/telegram/" class="docs-sidebar__link docs-sidebar__link--active">Telegram</a>
        
        <a href="/docs/webhooks/" class="docs-sidebar__link">Webhooks</a>
        
        <a href="/docs/cron/" class="docs-sidebar__link">Cron</a>
        
      </div>
      
      
      
      <div class="docs-sidebar__group">
        <div class="docs-sidebar__label">Reference</div>
        
        <a href="/docs/api/" class="docs-sidebar__link">API Reference</a>
        
        <a href="/docs/voice-system/" class="docs-sidebar__link">Voice System</a>
        
        <a href="/docs/secrets-advanced/" class="docs-sidebar__link">Advanced Secrets</a>
        
        <a href="/docs/screenshots/" class="docs-sidebar__link">Screenshots</a>
        
      </div>
      
      
    </aside>
    <div class="docs-content">
      <button class="docs-sidebar-toggle btn btn--ghost">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18"><path d="M4 6h16M4 12h16M4 18h16"/></svg>
        Navigation
      </button>
      <h1>Telegram</h1>
      <p>Magec can connect to Telegram through a bot. Users send text or voice messages to the bot, and the bot responds using your configured agents. It supports multiple response modes, per-chat agent switching, and voice messages in both directions.</p>
<p>This is a great way to access your agents from anywhere — your phone, desktop, or any Telegram client — without opening the Voice UI or writing API calls.</p>
<div class="screenshots" style="margin-bottom: 2rem;">



<img src="/img/screenshots/admin-clients-telegram.png" alt="Admin UI — Telegram client" class="screenshot screenshot--desktop">

</div>
<h2 id="setup">Setup</h2>
<h3 id="1-create-a-telegram-bot">1. Create a Telegram bot</h3>
<p>Open Telegram and talk to <a href="https://t.me/BotFather">@BotFather</a>:</p>
<ol>
<li>Send <code>/newbot</code></li>
<li>Choose a name (e.g., &ldquo;My Magec Assistant&rdquo;)</li>
<li>Choose a username (e.g., <code>my_magec_bot</code>)</li>
<li>BotFather gives you a token — copy it</li>
</ol>
<h3 id="2-get-your-user-id">2. Get your user ID</h3>
<p>Talk to <a href="https://t.me/userinfobot">@userinfobot</a> — it replies with your Telegram user ID (a number). You&rsquo;ll need this to restrict who can use your bot.</p>
<h3 id="3-create-a-telegram-client-in-magec">3. Create a Telegram client in Magec</h3>
<p>In the Admin UI, go to <strong>Clients</strong> → <strong>New</strong> → <strong>Telegram</strong>:</p>
<table>
  <thead>
      <tr>
          <th>Field</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>name</code></td>
          <td>Display name for this client</td>
      </tr>
      <tr>
          <td><code>botToken</code></td>
          <td>The token from BotFather</td>
      </tr>
      <tr>
          <td><code>allowedUsers</code></td>
          <td>Comma-separated list of Telegram user IDs that can use this bot</td>
      </tr>
      <tr>
          <td><code>allowedChats</code></td>
          <td>Comma-separated list of chat IDs where the bot can respond (for group chats)</td>
      </tr>
      <tr>
          <td><code>responseMode</code></td>
          <td>How the bot responds — see below</td>
      </tr>
      <tr>
          <td><code>allowedAgents</code></td>
          <td>Which agents and flows this bot can access</td>
      </tr>
  </tbody>
</table>
<h3 id="4-start-chatting">4. Start chatting</h3>
<p>Open your bot in Telegram and send a message. The bot responds using the first allowed agent.</p>
<h2 id="response-modes">Response modes</h2>
<p>The response mode controls the format of the bot&rsquo;s replies:</p>
<table>
  <thead>
      <tr>
          <th>Mode</th>
          <th>Behavior</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>text</code></td>
          <td>Always respond with text (default). Simple and reliable.</td>
      </tr>
      <tr>
          <td><code>voice</code></td>
          <td>Always respond with a voice message. Requires the agent to have TTS configured.</td>
      </tr>
      <tr>
          <td><code>mirror</code></td>
          <td>Mirror the user&rsquo;s format — text replies to text, voice replies to voice messages.</td>
      </tr>
      <tr>
          <td><code>both</code></td>
          <td>Respond with both a text message and a voice message.</td>
      </tr>
  </tbody>
</table>
<p>Users can change the response mode at runtime with the <code>/responsemode</code> command.</p>
<h2 id="voice-messages">Voice messages</h2>
<p>Telegram voice messages work in both directions:</p>
<p><strong>Incoming voice:</strong> When a user sends a voice message, Magec:</p>
<ol>
<li>Downloads the audio from Telegram</li>
<li>Converts it from OGG to WAV (using ffmpeg inside the container)</li>
<li>Sends it to the agent&rsquo;s STT backend for transcription</li>
<li>The agent processes the transcribed text and responds</li>
</ol>
<p><strong>Outgoing voice:</strong> When the response mode requires voice, Magec:</p>
<ol>
<li>Sends the agent&rsquo;s text response to the TTS backend</li>
<li>Gets the audio back</li>
<li>Sends it as a Telegram voice message</li>
</ol>
<p>This means you can have a fully voice-based conversation through Telegram — speak a question, hear the answer.</p>
<h2 id="bot-commands">Bot commands</h2>
<table>
  <thead>
      <tr>
          <th>Command</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>/start</code></td>
          <td>Welcome message</td>
      </tr>
      <tr>
          <td><code>/help</code></td>
          <td>List available commands</td>
      </tr>
      <tr>
          <td><code>/agent</code></td>
          <td>Switch the active agent for this chat</td>
      </tr>
      <tr>
          <td><code>/responsemode &lt;mode&gt;</code></td>
          <td>Change the response mode (<code>text</code>, <code>voice</code>, <code>mirror</code>, <code>both</code>, <code>reset</code>)</td>
      </tr>
  </tbody>
</table>
<p>The <code>/agent</code> command shows a list of all agents and flows the bot has access to. Select one and all subsequent messages in that chat go to the selected agent. Different chats can use different agents simultaneously.</p>
<h2 id="context-metadata">Context metadata</h2>
<p>When a message arrives from Telegram, Magec injects metadata about the source — the Telegram user ID, username, display name, and chat ID. This information is available to the agent as part of the message context. You can use this in system prompts to personalize responses (e.g., <em>&ldquo;Address the user by their first name when available&rdquo;</em>).</p>
<h2 id="security">Security</h2>



<div class="docs-callout">
  <strong>Always restrict access.</strong> Set <code>allowedUsers</code> and/or <code>allowedChats</code> to control who can use your bot. Without restrictions, anyone who discovers your bot&rsquo;s username can interact with your agents — and through them, any MCP tools those agents have access to.
</div>

<p>If a user not in the allowed list tries to message the bot, the message is silently ignored. The same applies for chats not in the allowed chats list.</p>
<h2 id="multiple-bots">Multiple bots</h2>
<p>You can create multiple Telegram clients, each with its own bot, its own set of allowed users, and its own agent access. For example:</p>
<ul>
<li>A <strong>personal bot</strong> with full access to all agents, restricted to your user ID</li>
<li>A <strong>team bot</strong> with access to specific work agents, restricted to team member IDs</li>
<li>A <strong>customer bot</strong> with access to a customer service agent, available to specific chat groups</li>
</ul>

    </div>
  </div>
</div>

  </main>
  <div id="lightbox" class="lightbox">
  <button class="lightbox__close" aria-label="Close">✕</button>
  <img id="lightbox-img" src="" alt="">
</div>

  <footer class="footer">
  <div class="container">
    <div class="footer__inner">
      <div class="footer__brand">
        <svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" width="20" height="20">
          <defs><linearGradient id="fg" x1="0%" y1="100%" x2="100%" y2="0%"><stop offset="0%" stop-color="#f59e0b"/><stop offset="100%" stop-color="#f87171"/></linearGradient></defs>
          <circle cx="32" cy="32" r="26" fill="url(#fg)"/>
          <circle cx="20" cy="24" r="2" fill="white" opacity=".9"/><circle cx="40" cy="22" r="1.8" fill="white" opacity=".8"/>
          <circle cx="38" cy="38" r="2" fill="white" opacity=".75"/>
        </svg>
        Magec · Apache 2.0
      </div>
      <ul class="footer__links">
        <li><a href="https://github.com/achetronic/magec" target="_blank" rel="noopener">GitHub</a></li>
        <li><a href="/docs/">Docs</a></li>
        <li><a href="https://github.com/achetronic/magec/issues" target="_blank" rel="noopener">Issues</a></li>
      </ul>
    </div>
  </div>
</footer>

  <script type="module" src="/js/main.js"></script>
</body>
</html>
