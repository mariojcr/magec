<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 780 300" fill="none">
  <defs>
    <linearGradient id="bg" x1="0" y1="0" x2="780" y2="300" gradientUnits="userSpaceOnUse">
      <stop offset="0%" stop-color="#1a1a1d"/>
      <stop offset="100%" stop-color="#121214"/>
    </linearGradient>
    <filter id="shadow">
      <feDropShadow dx="0" dy="2" stdDeviation="4" flood-color="#000" flood-opacity="0.4"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="780" height="300" rx="20" fill="url(#bg)"/>

  <!-- Title -->
  <text x="390" y="34" text-anchor="middle" fill="#d6d3d1" font-family="system-ui, sans-serif" font-size="13" font-weight="600">VOICE ACTIVITY DETECTION (VAD)</text>

  <!-- Activation trigger -->
  <rect x="30" y="70" width="130" height="64" rx="14" fill="#2a2a2f" stroke="#fbbf24" stroke-width="1" opacity="0.5" filter="url(#shadow)"/>
  <text x="95" y="96" text-anchor="middle" fill="#fbbf24" font-family="system-ui, sans-serif" font-size="10" font-weight="600">Activation</text>
  <text x="95" y="112" text-anchor="middle" fill="#78716c" font-family="system-ui, sans-serif" font-size="8">wake word or button</text>

  <!-- Arrow to VAD -->
  <line x1="160" y1="102" x2="200" y2="102" stroke="#38bcd8" stroke-width="1.5" opacity="0.4"/>
  <polygon points="200,98 208,102 200,106" fill="#38bcd8" opacity="0.5"/>

  <!-- VAD model box (central) -->
  <rect x="210" y="60" width="160" height="84" rx="14" fill="#2a2a2f" stroke="#38bcd8" stroke-width="1.5" opacity="0.6" filter="url(#shadow)"/>
  <text x="290" y="86" text-anchor="middle" fill="#38bcd8" font-family="system-ui, sans-serif" font-size="12" font-weight="700">Silero VAD</text>
  <text x="290" y="104" text-anchor="middle" fill="#78716c" font-family="system-ui, sans-serif" font-size="9">ONNX · LSTM states</text>
  <text x="290" y="118" text-anchor="middle" fill="#52525b" font-family="system-ui, sans-serif" font-size="8">512 samples (~32ms windows)</text>
  <!-- Mini waveform -->
  <path d="M230 130 Q240 122 250 130 Q260 138 270 130 Q280 122 290 130 Q300 138 310 130 Q320 122 330 130 Q340 138 350 130" stroke="#38bcd8" stroke-width="1" fill="none" opacity="0.15"/>

  <!-- ===== SPEAKING path (top) ===== -->
  <line x1="370" y1="102" x2="440" y2="102" stroke="#d6d3d1" stroke-width="1.5" opacity="0.3"/>
  <line x1="440" y1="102" x2="440" y2="50" stroke="#4ade80" stroke-width="1.5" opacity="0.4"/>
  <line x1="440" y1="50" x2="530" y2="50" stroke="#4ade80" stroke-width="1.5" opacity="0.4"/>
  <polygon points="530,46 538,50 530,54" fill="#4ade80" opacity="0.5"/>

  <!-- Speaking label -->
  <rect x="460" y="36" width="68" height="16" rx="5" fill="#4ade80" opacity="0.1"/>
  <text x="494" y="48" text-anchor="middle" fill="#4ade80" font-family="system-ui, sans-serif" font-size="9" font-weight="600">SPEAKING</text>

  <!-- speech_start event -->
  <rect x="540" y="30" width="200" height="44" rx="12" fill="#2a2a2f" stroke="#4ade80" stroke-width="1" opacity="0.5" filter="url(#shadow)"/>
  <text x="640" y="50" text-anchor="middle" fill="#4ade80" font-family="monospace" font-size="11" font-weight="600">speech_start</text>
  <text x="640" y="65" text-anchor="middle" fill="#78716c" font-family="system-ui, sans-serif" font-size="8">Start capturing audio</text>

  <!-- ===== SILENT path (bottom) ===== -->
  <line x1="440" y1="102" x2="440" y2="155" stroke="#f87171" stroke-width="1.5" opacity="0.3"/>
  <line x1="440" y1="155" x2="530" y2="155" stroke="#f87171" stroke-width="1.5" opacity="0.3"/>
  <polygon points="530,151 538,155 530,159" fill="#f87171" opacity="0.4"/>

  <!-- Silent label -->
  <rect x="470" y="141" width="50" height="16" rx="5" fill="#f87171" opacity="0.08"/>
  <text x="495" y="153" text-anchor="middle" fill="#f87171" font-family="system-ui, sans-serif" font-size="9" font-weight="600">SILENT</text>

  <!-- Silence counter -->
  <rect x="540" y="135" width="200" height="44" rx="12" fill="#2a2a2f" stroke="#3d3d44" stroke-width="1" filter="url(#shadow)"/>
  <text x="640" y="154" text-anchor="middle" fill="#d6d3d1" font-family="system-ui, sans-serif" font-size="10" font-weight="500">Silence counter</text>
  <text x="640" y="170" text-anchor="middle" fill="#78716c" font-family="system-ui, sans-serif" font-size="8">resets if speech resumes</text>

  <!-- Arrow from counter to speech_end -->
  <line x1="640" y1="179" x2="640" y2="220" stroke="#38bcd8" stroke-width="1.5" opacity="0.4"/>
  <polygon points="636,216 640,224 644,216" fill="#38bcd8" opacity="0.5"/>



  <!-- speech_end event -->
  <rect x="540" y="226" width="200" height="34" rx="12" fill="#2a2a2f" stroke="#38bcd8" stroke-width="1.5" opacity="0.6" filter="url(#shadow)"/>
  <text x="640" y="248" text-anchor="middle" fill="#38bcd8" font-family="monospace" font-size="11" font-weight="600">speech_end</text>



  <!-- Annotation -->
  <text x="160" y="178" fill="#52525b" font-family="system-ui, sans-serif" font-size="8" font-style="italic">LSTM keeps state across frames →</text>
  <text x="160" y="190" fill="#52525b" font-family="system-ui, sans-serif" font-size="8" font-style="italic">pauses don't cut you off</text>
</svg>
